(function(){dust.register("imports/import_container",body_0);function body_0(chk,ctx){return chk.write("<div id=\"breadcrumbs\">").partial("navigation/breadcrumbs",ctx,null).write("</div>").write("\n\n").write("<div class=\"row\">").write("\n    ").write("<div class=\"span12\" id=\"title\">").write("\n        ").write("<h1 class=\"eip\" id=\"title\"><span class=\"coll-title-prefix\">Import </span> ").reference(ctx._get(false, ["title"]),ctx,"h").write("</h1>").write("\n        ").write("<p>Size:").reference(ctx._get(false,["import","size"]),ctx,"h").write(", uploaded on ").helper("timeStamp",ctx,{},{"time":body_1,"format":"YYYY-MM-DD HH:mm"}).write(", ").helper("timeFromNow",ctx,{},{"time":body_2}).write("</p>").write("\n        ").write("<span id=\"importBtn\">").write("\n            ").write("<a class=\"btn btn-danger btn-small\"  href=\"/imports/").reference(ctx._get(false,["import","_id"]),ctx,"h").write("/delete?back=/imports\"><i class=\"icon-trash icon-white\"></i> Delete</a>").write("\n            ").write("<a class=\"btn btn-primary btn-small import-btn\"  href=\"#\"><i class=\"icon-play icon-white\"></i>&nbsp;Import</a>").write("\n            ").write("<br/><input type=\"checkbox\" id=\"fetch_links\"><label for=\"fetch_links\">Fetch all links.</label>").write("\n        ").write("</span>").write("\n        ").write("<span id=\"processBtn\" style=\"display:none\">").write("\n        ").write("<a class=\"btn btn-danger btn-small\"  href=\"#\" id=\"cancelImport\"><i class=\"icon-stop icon-white\"></i> Cancel</a>").write("\n        ").write("</span>").write("\n    ").write("</div>").write("\n").write("</div>").write("\n").write("<div id=\"beforeContent\">").partial("imports/import_summary",ctx,null).write("</div>").write("\n").write("<ul id=\"tabs\" class=\"nav nav-tabs\" style=\"margin-bottom:0\">").write("\n  ").write("<li class=\"active\"><a href=\"#content\" id=\"tab-content\" data-toggle=\"tab\">All</a></li>").write("\n  ").write("<li><a href=\"#imported\" id=\"tab-imported\" data-toggle=\"tab\">Imported</a></li>").write("\n  ").write("<li><a href=\"#excluded\" id=\"tab-excluded\" data-toggle=\"tab\">Excluded</a></li>").write("\n").write("</ul>").write("\n").write("<div class=\"tab-content\">").write("\n  ").write("<div id=\"content\" class=\"tab-pane active\">").partial("imports/import",ctx,null).write("</div>").write("\n  ").write("<div id=\"imported\" class=\"tab-pane\">&nbsp;</div>").write("\n  ").write("<div id=\"excluded\"  class=\"tab-pane\">&nbsp;</div>").write("\n").write("</div>");}function body_1(chk,ctx){return chk.reference(ctx._get(false,["import","created"]),ctx,"h");}function body_2(chk,ctx){return chk.reference(ctx._get(false,["import","created"]),ctx,"h");}return body_0;})();(function(){dust.register("main",body_0);function body_0(chk,ctx){return chk.write("<!doctype html>").write("\n").write("<!--[if lt IE 7 ]><html class=\"ie ie6\" lang=\"en\"> <![endif]-->").write("\n").write("<!--[if IE 7 ]><html class=\"ie ie7\" lang=\"en\"> <![endif]-->").write("\n").write("<!--[if IE 8 ]><html class=\"ie ie8\" lang=\"en\"> <![endif]-->").write("\n").write("<!--[if IE 9 ]><html class=\"ie ie9\" lang=\"en\"> <![endif]-->").write("\n").write("<!--[if (gte IE 10)|!(IE)]><!--><html lang=\"en\"> <!--<![endif]-->").write("\n  ").write("<head>").write("\n    ").write("<meta charset=\"utf-8\" />").write("\n     ").write("<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />").write("\n    ").block(ctx.getBlock("metaTags"),ctx,{},null).write("\n    ").write("<title>").block(ctx.getBlock("pageTitle"),ctx,{"block":body_1},null).write("</title>").write("\n    ").write("<script>pageParam=").reference(ctx._get(false, ["pageParam"]),ctx,"h",["js","s"]).write(";</script>").write("\n    ").write("<script type=\"text/javascript\" src=\"//cdnjs.cloudflare.com/ajax/libs/headjs/0.99/head.min.js\"></script>").write("\n    ").write("<script>").write("\n      ").write("head.js(").write("\n          ").write("{debug:\"/js/ba-debug.min.js\"},").write("\n").write("//        {log:\"/js/consolelog.min.js\"},").write("\n          ").write("{socket_io_core:\"/socket.io/socket.io.js\"},").write("\n          ").write("{socket_main:\"/js/links-to/socket-io.js\"},").write("\n          ").write("function(){").write("\n             ").write("debug.log( 'linksTo socket-io loaded.');").write("\n          ").write("}").write("\n      ").write(");").write("\n      ").write("head.load(").write("\n      ").write("// netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css").write("\n      ").write("// netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js").write("\n\n          ").write("\"//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css\"").write("\n          ").write(", \"//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css\"").write("\n          ").write(", \"/css/links-to.css\"").write("\n          ").section(ctx._get(false,["config","stelth","screen"]),ctx,{"block":body_2},null).write("\n      ").write(");").write("\n      ").write("var pageScripts=[], pageCSS=[];").write("\n    ").write("</script>").write("\n    ").block(ctx.getBlock("headLinks"),ctx,{},null).write("\n    ").block(ctx.getBlock("headContent"),ctx,{},null).write("\n  ").write("</head>").write("\n  ").write("<body class=\"").block(ctx.getBlock("bodyClass"),ctx,{},null).write("\">").write("\n    ").write("<div id=\"navbar\">").partial("navigation/navbar",ctx,null).write("</div>").write("\n    ").write("<div class=\"container\" id=\"container\">").write("\n        ").block(ctx.getBlock("container"),ctx,{"block":body_3},null).write("\n    ").write("</div>").write("\n    ").partial("mainPageScripts",ctx,null).write("\n    ").block(ctx.getBlock("pageScripts"),ctx,{},null).write("\n    ").write("<script>").write("\n        ").write("if( pageScripts.length) { head.js.applay(undefined,   pageScripts ); }").write("\n        ").write("if( pageCSS.length)     { head.load.applay(undefined, pageCSS ); }").write("\n    ").write("</script>").write("\n    ").block(ctx.getBlock("pageBottom"),ctx,{},null).write("\n  ").write("</body>").write("\n").write("</html>");}function body_1(chk,ctx){return chk.write("Links.to: Page");}function body_2(chk,ctx){return chk.write("\n          ").write(", \"/css/stelth.css\"").write("\n          ");}function body_3(chk,ctx){return chk.write("\n          ").write("<div id=\"breadcrumbs\">").partial("navigation/breadcrumbs",ctx,null).write("</div>").write("\n          ").write("<div class=\"row\"><div class=\"span8\" id=\"title\">").block(ctx.getBlock("title"),ctx,{"block":body_4},null).write("</div></div>").write("\n          ").write("<div id=\"beforeContent\">").block(ctx.getBlock("beforeContent"),ctx,{},null).write("</div>").write("\n          ").write("<div id=\"content\">").block(ctx.getBlock("content"),ctx,{"block":body_5},null).write("</div>").write("\n          ").block(ctx.getBlock("contentBottom"),ctx,{},null).write("\n       ");}function body_4(chk,ctx){return chk.write("<h1>").reference(ctx._get(false, ["title"]),ctx,"h").write("</h1>");}function body_5(chk,ctx){return chk.write("_content_");}return body_0;})();(function(){dust.register("collections/collection",body_0);var blocks={'extraButtons':body_1};function body_0(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\r\n\r\n").section(ctx._get(false, ["collection"]),ctx,{"block":body_4},null).write("\r\n");}function body_1(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\r\n    ").notexists(ctx._get(false,["collection","links"]),ctx,{"else":body_2,"block":body_3},null).write("\r\n");}function body_2(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\r\n       ").write("<a class=\"btn btn-warning edit-btn refresh-coll\" href=\"#refresh\" title=\"refresh\"><i class=\"icon-refresh\"></i></a>").write("\r\n       ").write("<a class=\"btn btn-danger delete-btn delete-404  hidden2\" id=\"delete404\"  href=\"#delete404\" title=\"Delete missing links\"><i class=\"icon-trash\"></i> Missing</a>").write("\r\n    ");}function body_3(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\r\n          ").write("<span class=\"btn-group\">").write("\r\n            ").write("<a class=\"btn btn-danger\"  href=\"/coll/").reference(ctx._get(false,["collection","_id"]),ctx,"h").write("/delete\" title=\"Delete empty collection\"><i class=\"icon-white icon-trash\"></i></a>").write("\r\n          ").write("</span>").write("\r\n     ");}function body_4(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\r\n").write("<div id=\"").reference(ctx._get(false, ["contentID"]),ctx,"h").write("\">").write("\r\n  ").write("<div class=\"row\">").write("\r\n    ").write("<div class=\"span8 ").exists(ctx._get(false, ["canEdit"]),ctx,{"block":body_5},null).write(" ta wrap coll_description\" >").reference(ctx._get(false, ["description"]),ctx,"h").write("</div>").write("\r\n  ").write("</div>").write("\r\n  ").partial("collections/collection_toolbox.dust",ctx,null).write("\r\n  ").partial("controls/add_button_row",ctx,null).write("\r\n  ").write("<div id=\"grid\">").write("\r\n    ").section(ctx._get(false, ["links"]),ctx,{"else":body_6,"block":body_7},{"collection_id":body_8}).write("\r\n  ").write("</div>").write("\r\n").write("</div>").write("\r\n");}function body_5(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("eip");}function body_6(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\r\n    ").write("<div class=\"row\"><div class=\"span6\">No links in this collection yet.</div></div>").write("\r\n    ");}function body_7(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\r\n    ").partial("links/link",ctx,null).write("\r\n    ");}function body_8(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.reference(ctx._get(false, ["_id"]),ctx,"h");}return body_0;})();(function(){dust.register("collections/collection_container",body_0);function body_0(chk,ctx){return chk.write("<div id=\"breadcrumbs\">").partial("navigation/breadcrumbs",ctx,null).write("</div>").write("\n").write("<div class=\"row\">").write("\n    ").write("<div class=\"span8\" id=\"title\">").write("\n        ").write("<h1 class=\"eip\" id=\"title\"><span class=\"coll-title-prefix\">Collection </span> ").reference(ctx._get(false, ["title"]),ctx,"h").write("</h1>").write("\n        ").section(ctx._get(false,["grid","length"]),ctx,{"block":body_1},null).write("\n    ").write("</div>").write("\n").write("</div>").write("\n").write("<div id=\"beforeContent\">").block(ctx.getBlock("beforeContent"),ctx,{},null).write("</div>").write("\n").write("<div id=\"content\">").partial("collections/collection",ctx,null).write("</div>").write("\n\n");}function body_1(chk,ctx){return chk.write("\n        ").write("<a class=\"btn btn-danger btn-mini\"  href=\"/coll/").reference(ctx._get(false,["collection","_id"]),ctx,"h").write("/delete?back=/colls/mine\"><i class=\"icon-trash icon-white\"></i> Delete</a>").write("\n        ");}return body_0;})();(function(){dust.register("collections/collection_list_add_line",body_0);function body_0(chk,ctx){return chk.section(ctx._get(false, ["collection"]),ctx,{"block":body_1},{"userID":body_2});}function body_1(chk,ctx){return chk.write("\n    ").partial("collections/collection_list_line",ctx,null).write("\n");}function body_2(chk,ctx){return chk.reference(ctx._get(false,["user","_id"]),ctx,"h");}return body_0;})();(function(){dust.register("collections/collection_list_container",body_0);function body_0(chk,ctx){return chk.write("<div id=\"breadcrumbs\">").partial("navigation/breadcrumbs",ctx,null).write("</div>").write("\n").write("<div class=\"row\">").write("\n    ").write("<div class=\"span8\" id=\"title\"><h1>").reference(ctx._get(false, ["title2"]),ctx,"h").write("</h1></div>").write("\n").write("</div>").write("\n").write("<div id=\"beforeContent\">").partial("controls/add_button_row",ctx,null).write("</div>").write("\n").write("<div id=\"content\">").write("\n    ").partial("collections/collection_list_table",ctx,null).write("\n").write("</div>");}return body_0;})();(function(){dust.register("collections/collection_list_line",body_0);function body_0(chk,ctx){return chk.write("  <div class=\"row\" id=\"coll_").reference(ctx._get(false, ["_id"]),ctx,"h").write("\">").write("\n      ").write("<div class=\"span5 coll-title\">").write("\n        ").write("<a href=\"/coll/").reference(ctx._get(false, ["_id"]),ctx,"h").write("\" title=\"").reference(ctx._get(false, ["description"]),ctx,"h").write("\" >").reference(ctx._get(false, ["title"]),ctx,"h").write("</a>").write("\n            ").helper("eq",ctx,{"block":body_1},{"key":body_4,"value":body_5}).write("\n        ").write("<span>").reference(ctx._get(false, ["desciption"]),ctx,"h").write("</span>").write("\n      ").write("</div>").write("\n      ").write("<div class=\"span1 coll-e\">").reference(ctx._get(false,["links","length"]),ctx,"h").write("</div>").write("\n      ").write("<div class=\"span2 coll-e\">").write("\n        ").section(ctx._get(false, ["updated"]),ctx,{"block":body_6},null).write("\n      ").write("</div>").write("\n      ").write("<div class=\"span2 coll-e\">").write("\n          ").write("<a href=\"/author/").reference(ctx._get(false, ["owner"]),ctx,"h").write("\">").write("\n            ").helper("select",ctx,{"block":body_9},{"key":body_15}).write("\n          ").write("</a>").write("\n      ").write("</div>").write("\n  ").write("</div>").write("\n\n");}function body_1(chk,ctx){return chk.write("\n                    ").write("<span class=\"icon-user my-collection\" title=\"This collection is mine\"></span>").write("\n                    ").helper("lt",ctx,{"block":body_2},{"key":body_3,"value":"1"}).write("\n            ");}function body_2(chk,ctx){return chk.write("\n                      ").write("<a href=\"#\" data-context='{\"route\":\"/coll/delete\", \"id\":\"").reference(ctx._get(false, ["_id"]),ctx,"h").write("\"}' title=\"Delete\" class=\"deleteIcon coll\">").write("\n                        ").write("<i class=\"icon-trash\"></i>").write("\n                      ").write("</a>").write("\n                    ");}function body_3(chk,ctx){return chk.reference(ctx._get(false,["links","length"]),ctx,"h");}function body_4(chk,ctx){return chk.reference(ctx._get(false, ["owner"]),ctx,"h");}function body_5(chk,ctx){return chk.reference(ctx._get(false,["user","_id"]),ctx,"h");}function body_6(chk,ctx){return chk.write("\n          ").write("<span class=\"updated\"  title='").helper("timeStamp",ctx,{},{"time":body_7,"format":"YYYY-MM-DD HH:mm"}).write("' >").write("\n              ").write("<i class=\"icon-calendar\"></i>").write("\n              ").write("<span>").helper("timeFromNow",ctx,{},{"time":body_8}).write("</span>").write("\n          ").write("</span>").write("\n        ");}function body_7(chk,ctx){return chk.reference(ctx._get(false, ["updated"]),ctx,"h");}function body_8(chk,ctx){return chk.reference(ctx._get(false, ["updated"]),ctx,"h");}function body_9(chk,ctx){return chk.write("\n             ").helper("eq",ctx,{"block":body_10},{"value":body_11}).write("\n             ").helper("default",ctx,{"block":body_12},null).write("\n           ");}function body_10(chk,ctx){return chk.write("\n                ").write("<span>me</span>").write("\n             ");}function body_11(chk,ctx){return chk.reference(ctx._get(false,["user","_id"]),ctx,"h");}function body_12(chk,ctx){return chk.write("\n              ").section(ctx._get(false, ["author_screen_name"]),ctx,{"else":body_13,"block":body_14},null).write("\n            ");}function body_13(chk,ctx){return chk.write("\n                 ").write("author").write("\n              ");}function body_14(chk,ctx){return chk.write("\n                  ").reference(ctx._get(true,[]),ctx,"h").write("\n                ");}function body_15(chk,ctx){return chk.reference(ctx._get(false, ["owner"]),ctx,"h");}return body_0;})();(function(){dust.register("collections/collection_list_table",body_0);function body_0(chk,ctx){return chk.write("<div id=\"").reference(ctx._get(false, ["contentID"]),ctx,"h").write("\">").write("\n    ").write("<div class=\"row table-header\">").write("\n        ").write("<div class=\"span5 table-header\">Collection Name</div>").write("\n        ").write("<div class=\"span1 coll-e\">Links</div>").write("\n        ").write("<div class=\"span2 coll-e\">Last updated</div>").write("\n        ").write("<div class=\"span2  coll-e\">Author</div>").write("\n    ").write("</div>").write("\n    ").write("\n    ").write("<div id=\"coll-list-rows\">").write("\n        ").section(ctx._get(false, ["grid"]),ctx,{"else":body_1,"block":body_2},null).write("\n    ").write("</div>").write("\n").write("</div>").write("\n");}function body_1(chk,ctx){return chk.write("\n            ").write("<div class=\"row\">").write("\n                ").write("<div class=\"span8\">No collections available yet.</div>").write("\n            ").write("</div>").write("\n        ");}function body_2(chk,ctx){return chk.write("\n            ").partial("collections/collection_list_line",ctx,null).write("\n        ");}return body_0;})();(function(){dust.register("collections/collection_toolbox",body_0);function body_0(chk,ctx){return chk.write("  <div class=\"row\">").write("\n      ").write("<div class=\"span8\">").write("\n              ").write("<span class=\"btn-toolbar\">").write("\n                ").write("\n              ").write("</span>").write("\n      ").write("</div>").write("\n  ").write("</div>").write("\n");}return body_0;})();(function(){dust.register("collections/page_collection",body_0);var blocks={'bodyClass':body_1,'pageTitle':body_2,'pageBottom':body_3,'container':body_4};function body_0(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.partial("main",ctx,null).write("\n\n").write("\n").write("\n\n").write("\n\n").write("\n");}function body_1(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("collection");}function body_2(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("Collection: ").reference(ctx._get(false, ["title"]),ctx,"h");}function body_3(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\n    ").write("<div class=\"eipBase\" data-url=\"/coll/").reference(ctx._get(false,["collection","_id"]),ctx,"h").write("/eip\"><br/></div>").write("\n    ").write("<script>").write("\n      ").write("head.js(").write("\n        ").write("\"/js/jquery.editinplace.js\",").write("\n        ").write("\"/js/jquery.autosize.js\",").write("\n        ").write("\"/js/edit-in-place.js\",").write("\n        ").write("\"/js/tw-textarea-autoGrow.js\",").write("\n        ").write("\"/js/autoGrowInput.js\"").write("\n        ").write(", \"/js/links-to/collection.js\"").write("\n        ").write("//, \"/js/collection-link-edit.js\"").write("\n      ").write(");").write("\n    ").write("</script>").write("\n");}function body_4(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\n   ").partial("collections/collection_container",ctx,null).write("\n");}return body_0;})();(function(){dust.register("collections/page_collections-list",body_0);var blocks={'bodyClass':body_1,'pageTitle':body_2,'container':body_3};function body_0(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.partial("main",ctx,null).write("\n\n").write("\n").write("\n\n").write("\n\n").write("\n\n\n");}function body_1(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("collection-list");}function body_2(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("My collections in Links.to");}function body_3(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\n   ").partial("collections/collection_list_container",ctx,null).write("\n");}return body_0;})();(function(){dust.register("controls/add_button",body_0);function body_0(chk,ctx){return chk.write("    ").section(ctx._get(false, ["user"]),ctx,{"block":body_1},{"Collection":body_10}).write("\n");}function body_1(chk,ctx){return chk.write("\n        ").section(ctx._get(false, ["pageParam"]),ctx,{"block":body_2},null).write("\n    ");}function body_2(chk,ctx){return chk.write("\n            ").helper("eq",ctx,{"block":body_3},{"value":"collection:list","key":body_4}).write("\n            ").helper("eq",ctx,{"block":body_5},{"value":"collection:get","key":body_9}).write("\n        ");}function body_3(chk,ctx){return chk.write("\n                    ").write("<input type=\"text\" class=\"addInput input-xxlarge\" name=\"").reference(ctx._get(false, ["name"]),ctx,"h").write("\" id=\"").reference(ctx._get(false, ["name"]),ctx,"h").write("\" placeholder=\"").reference(ctx._get(false, ["placeholder"]),ctx,"h").write("\" title=\"").reference(ctx._get(false, ["placeholder"]),ctx,"h").write("\" />").write("\n                    ").write("<button class=\"btn btn-primary btnAdd\" type=\"button\"  data-context=\"").reference(ctx._get(false, ["button_action"]),ctx,"h",["js","s"]).write("\">Add</button>").write("\n            ");}function body_4(chk,ctx){return chk.reference(ctx._get(true,["route"]),ctx,"h");}function body_5(chk,ctx){return chk.write("\n                    ").helper("eq",ctx,{"block":body_6},{"value":body_7,"key":body_8}).write("\n           ");}function body_6(chk,ctx){return chk.write("\n                            ").write("<input type=\"text\" class=\"addInput input-xxlarge\" name=\"").reference(ctx._get(false, ["name"]),ctx,"h").write("\" id=\"").reference(ctx._get(false, ["name"]),ctx,"h").write("\" placeholder=\"").reference(ctx._get(false, ["placeholder"]),ctx,"h").write("\" title=\"").reference(ctx._get(false, ["placeholder"]),ctx,"h").write("\" />").write("\n                            ").write("<button class=\"btn btn-primary btnAdd\" type=\"button\"  data-context=\"").reference(ctx._get(false, ["button_action"]),ctx,"h",["js","s"]).write("\">Add</button>").write("\n                    ");}function body_7(chk,ctx){return chk.reference(ctx._get(false,["user","_id"]),ctx,"h");}function body_8(chk,ctx){return chk.reference(ctx._get(false,["collection","owner"]),ctx,"h");}function body_9(chk,ctx){return chk.reference(ctx._get(true,["route"]),ctx,"h");}function body_10(chk,ctx){return chk.reference(ctx._get(false, ["collection"]),ctx,"h");}return body_0;})();(function(){dust.register("controls/add_button_file",body_0);function body_0(chk,ctx){return chk.write("<div class=\"input-append\">").write("\n   ").write("<form action=\"").reference(ctx._get(false,["addButton","action"]),ctx,"h").write("\" id=\"").reference(ctx._get(false,["addButton","form_id"]),ctx,"h").write("\" method=\"post\"  enctype=\"multipart/form-data\">").write("\n    ").write("<span class=\"fakeFileCont\">").write("\n      ").write("<input type=\"file\" name=\"uploaded_file\" class=\"fileHidden farAway\"  name=\"").reference(ctx._get(false, ["name"]),ctx,"h").write("\" id=\"").reference(ctx._get(false, ["name"]),ctx,"h").write("\" />").write("\n      ").write("<input type=\"text\" class=\"input-xxlarge fakeName\" readonly=\"readonly\" value='No File Selected'>").write("\n      ").write("<button type=\"button\" class=\"fakeButton btn btn-success noBrdRadius\">Select a file</button>").write("\n    ").write("</span>").write("\n    ").write("<button class=\"btn btn-primary\" type=\"submit\">").reference(ctx._get(false,["addButton","buttonText"]),ctx,"h").write("</button>").write("\n   ").write("</form>").write("\n").write("</div>").write("\n");}return body_0;})();(function(){dust.register("controls/add_button_input",body_0);function body_0(chk,ctx){return chk.write("<span class=\"input-append\">").write("\n    ").write("<input type=\"text\" class=\"addInput input-xxlarge\" name=\"").reference(ctx._get(false, ["name"]),ctx,"h").write("\" id=\"").reference(ctx._get(false, ["name"]),ctx,"h").write("\" placeholder=\"").reference(ctx._get(false, ["placeholder"]),ctx,"h").write("\" title=\"").reference(ctx._get(false, ["placeholder"]),ctx,"h").write("\" />").write("\n    ").write("<button class=\"btn btn-primary btnAdd\" type=\"button\"  data-context='").reference(ctx._get(false, ["button_action"]),ctx,"h",["js","s"]).write("'>Add</button>").write("\n").write("</span>").write("\n");}return body_0;})();(function(){dust.register("controls/add_button_row",body_0);function body_0(chk,ctx){return chk.section(ctx._get(false, ["user"]),ctx,{"block":body_1},{"Collection":body_13}).write("\n\n");}function body_1(chk,ctx){return chk.write("\n     ").write("<div class=\"row\">").write("\n        ").write("<div class=\"span8 vTop\">").write("\n            ").helper("select",ctx,{"block":body_2},{"key":body_12}).write("\n            ").block(ctx.getBlock("extraButtons"),ctx,{},null).write("\n        ").write("</div>").write("\n     ").write("</div>").write("\n");}function body_2(chk,ctx){return chk.write("\n                ").helper("eq",ctx,{"block":body_3},{"value":"collection:list"}).write("\n                ").helper("eq",ctx,{"block":body_5},{"value":"collection:get"}).write("\n                ").helper("eq",ctx,{"block":body_10},{"value":"imports:list"}).write("\n            ");}function body_3(chk,ctx){return chk.write("\n                    ").partial(body_4,ctx,null).write("\n                ");}function body_4(chk,ctx){return chk.write("controls/add_button_").reference(ctx._get(false,["addButton","type"]),ctx,"h");}function body_5(chk,ctx){return chk.write("\n                    ").helper("eq",ctx,{"block":body_6},{"value":body_8,"key":body_9}).write("\n                ");}function body_6(chk,ctx){return chk.write("\n                        ").partial(body_7,ctx,null).write("\n                    ");}function body_7(chk,ctx){return chk.write("controls/add_button_").reference(ctx._get(false,["addButton","type"]),ctx,"h");}function body_8(chk,ctx){return chk.reference(ctx._get(false,["user","_id"]),ctx,"h");}function body_9(chk,ctx){return chk.reference(ctx._get(false,["collection","owner"]),ctx,"h");}function body_10(chk,ctx){return chk.write("\n                    ").partial(body_11,ctx,null).write("\n                ");}function body_11(chk,ctx){return chk.write("controls/add_button_").reference(ctx._get(false,["addButton","type"]),ctx,"h");}function body_12(chk,ctx){return chk.reference(ctx._get(false,["pageParam","route"]),ctx,"h");}function body_13(chk,ctx){return chk.reference(ctx._get(false, ["collection"]),ctx,"h");}return body_0;})();(function(){dust.register("controls/add_button_textarea",body_0);function body_0(chk,ctx){return chk.write("<div class=\"input-append\">").write("\n    ").write("<textarea class=\"input-xxlarge autoGrow\" name=\"").reference(ctx._get(false, ["name"]),ctx,"h").write("\" placeholder=\"").reference(ctx._get(false, ["placeholder"]),ctx,"h").write("\" title=\"").reference(ctx._get(false, ["placeholder"]),ctx,"h").write("\" rows=\"1\"></textarea>").write("\n    ").write("<button class=\"btn btn-primary btn-mall\" type=\"button\" data-context='").reference(ctx._get(false, ["button_action"]),ctx,"h",["js","s"]).write("' ><i class=\"icon-plus icon-white\"></i> ").reference(ctx._get(false, ["buttonText"]),ctx,"h").write("</button>").write("\n").write("</div>").write("\n");}return body_0;})();(function(){dust.register("controls/add_collection_button_row",body_0);function body_0(chk,ctx){return chk.section(ctx._get(false, ["user"]),ctx,{"block":body_1},{"Collection":body_3}).write("\n\n");}function body_1(chk,ctx){return chk.write("\n     ").write("<div class=\"row\">").write("\n        ").write("<div class=\"span8 vTop\">").write("\n            ").partial(body_2,ctx,null).write("\n            ").block(ctx.getBlock("extraButtons"),ctx,{},null).write("\n        ").write("</div>").write("\n     ").write("</div>").write("\n");}function body_2(chk,ctx){return chk.write("controls/add_button_").reference(ctx._get(false,["addButton","type"]),ctx,"h");}function body_3(chk,ctx){return chk.reference(ctx._get(false, ["collection"]),ctx,"h");}return body_0;})();(function(){dust.register("date_time/updated",body_0);function body_0(chk,ctx){return chk.exists(ctx._get(false, ["updatedFromNow"]),ctx,{"block":body_1},null).write("\n");}function body_1(chk,ctx){return chk.write("\n").write("<span class=\"updated\"  title=\"").reference(ctx._get(false, ["updatedStr"]),ctx,"h").write("\" ><i class=\"icon-calendar\"></i><span\">").reference(ctx._get(false, ["updatedFromNow"]),ctx,"h").write("</span></span>").write("\n");}return body_0;})();(function(){dust.register("imports/import",body_0);function body_0(chk,ctx){return chk.section(ctx._get(false, ["import"]),ctx,{"block":body_1},null);}function body_1(chk,ctx){return chk.write("\n").write("<div id=\"").reference(ctx._get(false, ["contentID"]),ctx,"h").write("\">").write("\n  ").write("<div id=\"grid\">").write("\n    ").section(ctx._get(false, ["root_nodes"]),ctx,{"else":body_2,"block":body_3},null).write("\n  ").write("</div>").write("\n").write("</div>").write("\n");}function body_2(chk,ctx){return chk.write("\n    ").write("<div class=\"row\"><div class=\"span6\">Processing import data...</div></div>").write("\n    ");}function body_3(chk,ctx){return chk.write("\n    ").partial("imports/import_line",ctx,null).write("\n    ");}return body_0;})();(function(){dust.register("mainPageScripts",body_0);function body_0(chk,ctx){return chk.write("<script>").write("\r\n  ").write("head.js(").write("\r\n      ").write("{jquery:\"//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.js\"},").write("\r\n      ").write("{ pubsub:\"/js/ba-tiny-pubsub.js\"},").write("\r\n      ").write("function(){").write("\r\n        ").write("tinyPubSub(jQuery);").write("\r\n        ").write("head.js(").write("\r\n           ").write("{page:\"/js/page.js\"},").write("\r\n           ").write("{main: \"/js/links-to/main.js\"},").write("\r\n           ").write("{pages:\"/js/links-to/pages.js\"},").write("\r\n           ").write("function(){").write("\r\n               ").write("$.publish('page-init', [11], 22);").write("\r\n           ").write("}").write("\r\n        ").write(");").write("\r\n        ").write("head.js(").write("\r\n            ").write("{dust:\"/js/dust-core-2.0.3.js\"},").write("\r\n            ").write("{dust_helpers:\"/js/dust-helpers-1.1.1.js\"},").write("\r\n            ").write("{moment:\"/js/moment.js\"},").write("\r\n            ").write("{dust_templates: \"/templates/all.js\"},").write("\r\n            ").write("{\"local-content\": \"/js/links-to/local-content.js\"},").write("\r\n            ").write("function (){").write("\r\n                ").write("$.subscribe('page-init', { catchUp:true }, addDustHelpers );").write("\r\n            ").write("}").write("\r\n        ").write(");").write("\r\n        ").write("head.js( {detect_bottom:\"/js/links-to/detect_bottom.js\"} );").write("\r\n      ").write("}").write("\r\n  ").write(");").write("\r\n  ").write("head.js({bootstrap:\"//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js\"});").write("\r\n").write("</script>").write("\r\n").write("\r\n");}return body_0;})();(function(){dust.register("imports/import_folder_content",body_0);function body_0(chk,ctx){return chk.write("<div class=\"links-cont\">").write("\r\n   ").section(ctx._get(false, ["nodes"]),ctx,{"block":body_1},null).write("\r\n").write("</div>");}function body_1(chk,ctx){return chk.write("\r\n      ").partial("imports/import_line",ctx,null).write("\r\n   ");}return body_0;})();(function(){dust.register("imports/import_imported_line",body_0);function body_0(chk,ctx){return chk.write("<div class=\"row\" id=\"folder_").reference(ctx._get(false, ["_id"]),ctx,"h").write("\">").write("\n      ").write("<div class=\"span2 coll-title\">").write("\n       ").section(ctx._get(false, ["imported"]),ctx,{"else":body_1,"block":body_2},null).write("\n      ").write("</div>").write("\n      ").write("<div class=\"span5\">").reference(ctx._get(false, ["parent"]),ctx,"h").write("</div>").write("\n      ").write("<div class=\"span3 rell\">").write("\n").write("\n        ").write("<div class=\"progress\">").write("\n          ").write("<div class=\"bar\" style=\"width: ").reference(ctx._get(false, ["progress"]),ctx,"h").write("%;\"><span>").reference(ctx._get(false, ["progress"]),ctx,"h").write("%</span></div>").write("\n        ").write("</div>").write("\n      ").write("</div>").write("\n").write("</div>").write("\n");}function body_1(chk,ctx){return chk.write("\n          ").write("<span>").reference(ctx._get(false, ["title"]),ctx,"h").write("</span>").write("\n       ");}function body_2(chk,ctx){return chk.write("\n          ").write("<a href=\"/coll/").reference(ctx._get(false, ["_id"]),ctx,"h").write("\">").reference(ctx._get(false, ["title"]),ctx,"h").write("</a>").write("\n       ");}return body_0;})();(function(){dust.register("imports/import_line",body_0);function body_0(chk,ctx){return chk.write("<div class=\"folder ").section(ctx._get(false, ["excluded"]),ctx,{"block":body_1},null).write("\" id=\"import_").reference(ctx._get(false, ["_id"]),ctx,"h").write("\" data-id=\"").reference(ctx._get(false, ["_id"]),ctx,"h").write("\">").write("\n      ").write("<div class=\" coll-title\">").write("\n          ").write("<span>").write("\n              ").section(ctx._get(false, ["folder"]),ctx,{"else":body_2,"block":body_3},null).write("\n          ").write("</span>").write("\n          ").reference(ctx._get(false, ["title"]),ctx,"h").write("\n          ").section(ctx._get(false, ["folder"]),ctx,{"else":body_6,"block":body_8},null).write("\n      ").write("</div>").write("\n      ").write("<div class=\"links-cont\"></div>").write("\n").write("</div>").write("\n\n");}function body_1(chk,ctx){return chk.write("excluded");}function body_2(chk,ctx){return chk.write("\n                ").write("<span class=\"link-icon\" style=\" background-image:url(").reference(ctx._get(false, ["icon"]),ctx,"h").write(")\"></span>").write("\n              ");}function body_3(chk,ctx){return chk.write("\n                ").section(ctx._get(false, ["excluded"]),ctx,{"else":body_4,"block":body_5},null).write("\n              ");}function body_4(chk,ctx){return chk.write("\n                  ").write("<i class=\"import-folder icon-expand-alt\"></i>").write("\n                ");}function body_5(chk,ctx){return chk.write("\n                  ").write("<i class=\"import-folder icon-ban-circle text-error\"></i>").write("\n                ");}function body_6(chk,ctx){return chk.write("\n              ").section(ctx._get(false, ["imported"]),ctx,{"block":body_7},null).write("\n          ");}function body_7(chk,ctx){return chk.write("\n                 ").write("<i class=\"icon-ok\"></i>").write("\n              ");}function body_8(chk,ctx){return chk.write("\n            ").write("<span title='").reference(ctx._get(false,["folder","folders"]),ctx,"h").write(" folders/").reference(ctx._get(false,["folder","links"]),ctx,"h").write(" links'>(").reference(ctx._get(false,["folder","folders"]),ctx,"h").write("/").reference(ctx._get(false,["folder","links"]),ctx,"h").write(")</span>").write("\n            ").section(ctx._get(false, ["add_date"]),ctx,{"block":body_9},null).write("\n            ").section(ctx._get(false, ["imported"]),ctx,{"else":body_12,"block":body_15},null).write("\n\n          ");}function body_9(chk,ctx){return chk.write("\n              ").write("<span class=\"updated\"  title='").helper("timeStamp",ctx,{},{"time":body_10,"format":"YYYY-MM-DD HH:mm"}).write("' >, ").helper("timeFromNow",ctx,{},{"time":body_11}).write("</span>").write("\n            ");}function body_10(chk,ctx){return chk.reference(ctx._get(true,[]),ctx,"h");}function body_11(chk,ctx){return chk.reference(ctx._get(true,[]),ctx,"h");}function body_12(chk,ctx){return chk.write("\n                ").write("<input type=\"checkbox\" class=\"excluded\" ").section(ctx._get(false, ["excluded"]),ctx,{"else":body_13,"block":body_14},null).write(" >").write("\n            ");}function body_13(chk,ctx){return chk.write("checked=\"checked\"");}function body_14(chk,ctx){return chk;}function body_15(chk,ctx){return chk.write("\n                ").write("<i class=\"icon-ok\"></i>").write("\n            ");}return body_0;})();(function(){dust.register("imports/import_summary",body_0);function body_0(chk,ctx){return chk.write("  <table class=\"table table-condensed \" id=\"importDetails\" style=\"margin:10px 0; width:auto\" >").write("\r\n    ").write("<thead>").write("\r\n        ").write("<tr>").write("\r\n            ").write("<th></th>").write("\r\n            ").write("<th></th>").write("\r\n            ").write("<th>Excluded</th>").write("\r\n            ").write("<th>Imported</th>").write("\r\n        ").write("</tr>").write("\r\n    ").write("</thead>").write("\r\n    ").write("<tbody>").write("\r\n       ").write("<tr align=\"right\">").write("\r\n         ").write("<td align=\"left\">Folders:</td>").write("\r\n         ").write("<td>").reference(ctx._get(false,["import","folders"]),ctx,"h").write("</td>").write("\r\n         ").write("<td>").reference(ctx._get(false,["import","foldersExcluded"]),ctx,"h").write("</td>").write("\r\n         ").write("<td id=\"importedFolders\">").reference(ctx._get(false,["import","foldersImported"]),ctx,"h").write("</td>").write("\r\n       ").write("</tr>").write("\r\n       ").write("<tr align=\"right\">").write("\r\n         ").write("<td align=\"left\">Links:</td>").write("\r\n        ").write("<td>").reference(ctx._get(false,["import","links"]),ctx,"h").write("</td>").write("\r\n        ").write("<td>").reference(ctx._get(false,["import","linksExcluded"]),ctx,"h").write("</td>").write("\r\n        ").write("<td id=\"importedLinks\">").reference(ctx._get(false,["import","linksImported"]),ctx,"h").write("</td>").write("\r\n       ").write("</tr>").write("\r\n    ").write("</tbody>").write("\r\n  ").write("</table>");}return body_0;})();(function(){dust.register("imports/imports",body_0);function body_0(chk,ctx){return chk.section(ctx._get(false, ["collection"]),ctx,{"block":body_1},null);}function body_1(chk,ctx){return chk.write("\r\n").write("<div id=\"").reference(ctx._get(false, ["contentID"]),ctx,"h").write("\">").write("\r\n  ").write("<div class=\"row\">").write("\r\n    ").write("<div class=\"span8 ").exists(ctx._get(false, ["canEdit"]),ctx,{"block":body_2},null).write(" ta wrap coll_description\" >").reference(ctx._get(false, ["description"]),ctx,"h").write("</div>").write("\r\n  ").write("</div>").write("\r\n  ").partial("collections/collection_toolbox.dust",ctx,null).write("\r\n  ").partial("controls/add_button_row",ctx,null).write("\r\n  ").write("<div id=\"grid\">").write("\r\n    ").section(ctx._get(false, ["links"]),ctx,{"else":body_3,"block":body_4},{"collection_id":body_5}).write("\r\n  ").write("</div>").write("\r\n").write("</div>").write("\r\n");}function body_2(chk,ctx){return chk.write("eip");}function body_3(chk,ctx){return chk.write("\r\n    ").write("<div class=\"row\"><div class=\"span6\">No links in this collection yet.</div></div>").write("\r\n    ");}function body_4(chk,ctx){return chk.write("\r\n    ").partial("links/link",ctx,null).write("\r\n    ");}function body_5(chk,ctx){return chk.reference(ctx._get(false, ["_id"]),ctx,"h");}return body_0;})();(function(){dust.register("imports/imports_list_container",body_0);function body_0(chk,ctx){return chk.write("<div id=\"breadcrumbs\">").partial("navigation/breadcrumbs",ctx,null).write("</div>").write("\n").write("<div class=\"row\">").write("\n    ").write("<div class=\"span8\" id=\"title\"><h1>").reference(ctx._get(false, ["title2"]),ctx,"h").write("</h1></div>").write("\n").write("</div>").write("\n").write("<div id=\"beforeContent\">").partial("controls/add_button_row",ctx,null).write("</div>").write("\n").write("<div id=\"content\">").write("\n    ").partial("imports/imports_list_table",ctx,null).write("\n").write("</div>");}return body_0;})();(function(){dust.register("imports/imports_list_line",body_0);function body_0(chk,ctx){return chk.write("<div class=\"row\" id=\"import_").reference(ctx._get(false, ["_id"]),ctx,"h").write("\">").write("\n      ").write("<div class=\"span5 coll-title\"><a href=\"/imports/").reference(ctx._get(false, ["_id"]),ctx,"h").write("\">").reference(ctx._get(false, ["title"]),ctx,"h").write("</a></div>").write("\n      ").write("<div class=\"span1 coll-e\">").reference(ctx._get(false, ["folders"]),ctx,"h").write("</div>").write("\n      ").write("<div class=\"span1 coll-e\">").reference(ctx._get(false, ["links"]),ctx,"h").write("</div>").write("\n      ").write("<div class=\"span2 coll-e\">").write("\n        ").section(ctx._get(false, ["created"]),ctx,{"block":body_1},null).write("\n      ").write("</div>").write("\n").write("</div>").write("\n\n");}function body_1(chk,ctx){return chk.write("\n          ").write("<span class=\"updated\"  title='").helper("timeStamp",ctx,{},{"time":body_2,"format":"YYYY-MM-DD HH:mm"}).write("' >").write("\n              ").write("<i class=\"icon-calendar\"></i>").write("\n              ").write("<span>").helper("timeFromNow",ctx,{},{"time":body_3}).write("</span>").write("\n          ").write("</span>").write("\n        ");}function body_2(chk,ctx){return chk.reference(ctx._get(true,[]),ctx,"h");}function body_3(chk,ctx){return chk.reference(ctx._get(true,[]),ctx,"h");}return body_0;})();(function(){dust.register("imports/imports_list_table",body_0);function body_0(chk,ctx){return chk.write("<div id=\"").reference(ctx._get(false, ["contentID"]),ctx,"h").write("\">").write("\n    ").write("<div class=\"row table-header\">").write("\n        ").write("<div class=\"span5 table-header\">Import Name</div>").write("\n        ").write("<div class=\"span1 coll-e\">Folders</div>").write("\n        ").write("<div class=\"span1 coll-e\">Links</div>").write("\n        ").write("<div class=\"span2 coll-e\">Imported on</div>").write("\n    ").write("</div>").write("\n    ").write("\n    ").write("<div id=\"coll-list-rows\">").write("\n        ").section(ctx._get(false, ["grid"]),ctx,{"else":body_1,"block":body_2},null).write("\n    ").write("</div>").write("\n").write("</div>").write("\n");}function body_1(chk,ctx){return chk.write("\n            ").write("<div class=\"row\">").write("\n                ").write("<div class=\"span8\">No imports available yet.</div>").write("\n            ").write("</div>").write("\n        ");}function body_2(chk,ctx){return chk.write("\n            ").partial("imports/imports_list_line",ctx,null).write("\n        ");}return body_0;})();(function(){dust.register("imports/page_import",body_0);var blocks={'bodyClass':body_1,'pageTitle':body_2,'container':body_3,'pageScripts':body_4};function body_0(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.partial("main",ctx,null).write("\n\n").write("\n").write("\n\n").write("\n\n").write("\n");}function body_1(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("import");}function body_2(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("Import: ").reference(ctx._get(false, ["title"]),ctx,"h");}function body_3(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\n   ").partial("imports/import_container",ctx,null).write("\n");}function body_4(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\n   ").write("<script>").write("\n     ").write("head.js(").write("\n         ").write("{ imports:    \"/js/links-to/import.js\"}").write("\n     ").write(");").write("\n   ").write("</script>").write("\n ");}return body_0;})();(function(){dust.register("imports/page_imports-list",body_0);var blocks={'bodyClass':body_1,'pageTitle':body_2,'container':body_3,'pageScripts':body_4};function body_0(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.partial("main",ctx,null).write("\n\n").write("\n").write("\n\n").write("\n\n").write("\n");}function body_1(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("imports-list");}function body_2(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("My Imporst in Links.to");}function body_3(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\n   ").partial("imports/imports_list_container",ctx,null).write("\n");}function body_4(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\n   ").write("<script>").write("\n     ").write("head.js(").write("\n         ").write("{ imports:    \"/js/links-to/imports.js\"},").write("\n         ").write("{ iframe_post:\"/js/jquery.iframe-post-form.js\"}").write("\n     ").write(");").write("\n   ").write("</script>").write("\n ");}return body_0;})();(function(){dust.register("links/link",body_0);function body_0(chk,ctx){return chk.write("<div class=\"blocked-link\" id=\"link_").reference(ctx._get(false, ["_id"]),ctx,"h").write("\">").write("\n    ").notexists(ctx._get(false, ["display"]),ctx,{"else":body_1,"block":body_9},null).write("\n").write("</div>").write("\n");}function body_1(chk,ctx){return chk.write("\n        ").exists(ctx._get(false,["display","notFound"]),ctx,{"else":body_2,"block":body_4},null).write("\n    ");}function body_2(chk,ctx){return chk.write("\n            ").partial("links/link_content",ctx,{"link_id":body_3}).write("\n        ");}function body_3(chk,ctx){return chk.reference(ctx._get(false, ["_id"]),ctx,"h");}function body_4(chk,ctx){return chk.write("\n            ").helper("eq",ctx,{"block":body_5},{"value":body_7,"key":body_8}).write("\n        ");}function body_5(chk,ctx){return chk.write("\n               ").partial("links/link_content",ctx,{"link_id":body_6}).write("\n            ");}function body_6(chk,ctx){return chk.reference(ctx._get(false, ["_id"]),ctx,"h");}function body_7(chk,ctx){return chk.reference(ctx._get(false,["user","_id"]),ctx,"h");}function body_8(chk,ctx){return chk.reference(ctx._get(false, ["owner"]),ctx,"h");}function body_9(chk,ctx){return chk.write("\n        ").write("<div>No link data.</div>").write("\n    ");}return body_0;})();(function(){dust.register("links/link_add_one",body_0);function body_0(chk,ctx){return chk.section(ctx._get(false, ["link"]),ctx,{"block":body_1},null);}function body_1(chk,ctx){return chk.write("\r\n    ").write("<div class=\"blocked-link\" id=\"link_").reference(ctx._get(false, ["_id"]),ctx,"h").write("\">").write("\r\n       ").partial("links/link_content",ctx,{"link_id":body_2}).write("\r\n    ").write("</div>").write("\r\n");}function body_2(chk,ctx){return chk.reference(ctx._get(false, ["_id"]),ctx,"h");}return body_0;})();(function(){dust.register("links/link_adding",body_0);function body_0(chk,ctx){return chk.write("<div class=\"blocked-link token_").reference(ctx._get(false, ["token"]),ctx,"h").write("\" id=\"token_").reference(ctx._get(false, ["token"]),ctx,"h").write("\">").write("\n  ").write("<div class=\"row link-title\">").write("\n     ").write("<div class=\"span8 link-content\">").write("\n           ").write("<i class=\"icon-refresh icon-spin \"></i>").write("\n           ").write("<span class=\"link-fetching\">").reference(ctx._get(false, ["url"]),ctx,"h").write("</span>").write("\n      ").write("</div>").write("\n  ").write("</div>").write("\n").write("</div>").write("\n");}return body_0;})();(function(){dust.register("links/link_content",body_0);function body_0(chk,ctx){return chk.write("<div class=\"row link-title ").notexists(ctx._get(false,["images","length"]),ctx,{"block":body_1},null).write(" ").helper("ne",ctx,{"block":body_2},{"key":body_3,"value":"ready"}).write("\" data-id=\"").reference(ctx._get(false, ["_id"]),ctx,"h").write("\">").write("\n    ").write("<div class=\"span8 link-content\">").write("\n      ").section(ctx._get(false, ["display"]),ctx,{"block":body_4},null).write("\n      ").partial("links/link_tag_row",ctx,null).write("\n    ").write("</div>").write("\n").write("</div>").write("\n");}function body_1(chk,ctx){return chk.write("noImg");}function body_2(chk,ctx){return chk.write("notReady");}function body_3(chk,ctx){return chk.reference(ctx._get(false, ["state"]),ctx,"h");}function body_4(chk,ctx){return chk.write("\n        ").exists(ctx._get(false, ["thumbnail"]),ctx,{"block":body_5},null).write("\n        ").write("<a class=\"link-title wrap ").exists(ctx._get(false, ["canEdit"]),ctx,{"block":body_7},null).write(" ").exists(ctx._get(false, ["notFound"]),ctx,{"block":body_8},null).write("\" href=\"").reference(ctx._get(false, ["url"]),ctx,"h").write("?linked-from=www.links.to/w/c/").reference(ctx._get(false, ["collection_id"]),ctx,"h").write("\" target=\"_blank\">").reference(ctx._get(false, ["title"]),ctx,"h",["s"]).write("</a>").write("\n        ").exists(ctx._get(false, ["notFound"]),ctx,{"block":body_9},null).write("\n        ").exists(ctx._get(false, ["autor"]),ctx,{"block":body_10},null).write("\n        ").exists(ctx._get(false, ["description"]),ctx,{"block":body_11},null).write("\n        ").notexists(ctx._get(false, ["description"]),ctx,{"block":body_13},null).write("\n      ");}function body_5(chk,ctx){return chk.write("\n            ").write("<ul class=\"iddCont imgDropdown eipURL\" data-url=\"/link/").reference(ctx._get(false, ["_id"]),ctx,"h").write("/eip\" >").write("\n                ").write("<li>").write("\n                    ").write("<a href=\"#\" class=\"thumbnail\" data-imagePos=\"").reference(ctx._get(false, ["imagePos"]),ctx,"h").write("\">").write("\n                        ").write("<img src=\"").reference(ctx._get(false, ["thumbnail"]),ctx,"h").write("\">").write("\n                    ").write("</a>").write("\n                ").write("</li>").write("\n                ").section(ctx._get(false, ["images"]),ctx,{"block":body_6},null).write("\n            ").write("</ul>").write("\n        ");}function body_6(chk,ctx){return chk.write("\n                ").write("<li>").write("\n                    ").write("<a href=\"#\" class=\"thumbnail inactive\" data-imagePos=\"").reference(ctx._get(false, ["$idx"]),ctx,"h").write("\"><img src=\"").reference(ctx._get(false, ["src"]),ctx,"h").write("\"></a>").write("\n                ").write("</li>").write("\n                ");}function body_7(chk,ctx){return chk.write("eip ta");}function body_8(chk,ctx){return chk.write("notFound");}function body_9(chk,ctx){return chk.write("<br/>");}function body_10(chk,ctx){return chk.write("<span class=\"author\">Author:<span class=\"author_name\">").reference(ctx._get(false, ["author"]),ctx,"h").write("</span></span>");}function body_11(chk,ctx){return chk.write("<span title=\"description\" class=\"description wrap ").exists(ctx._get(false, ["canEdit"]),ctx,{"block":body_12},null).write("\">").reference(ctx._get(false, ["description"]),ctx,"h").write("</span>");}function body_12(chk,ctx){return chk.write("eip ta");}function body_13(chk,ctx){return chk.write("<span title=\"Summary\" class=\"description wrap ta summary\">summary:").reference(ctx._get(false, ["summary"]),ctx,"h").write("</span>");}return body_0;})();(function(){dust.register("links/link_tag_row",body_0);function body_0(chk,ctx){return chk.write("\n    ").write("<div class=\"tag-row\">").write("\n        ").helper("ne",ctx,{"block":body_1},{"key":body_2,"value":"ready"}).write("\n        ").write("<span class=\"link-tools-block\">").write("\n            ").write("<span>").helper("timeFromNow",ctx,{},{"time":body_3}).write("</span>").write("\n            ").helper("eq",ctx,{"block":body_4},{"key":body_7,"value":body_8}).write("\n        ").write("</span>").write("\n        ").section(ctx._get(false, ["display"]),ctx,{"block":body_9},null).write("\n        ").write("\n    ").write("</div>").write("\n").write("\n");}function body_1(chk,ctx){return chk.write("\n            ").write("<i class=\"icon-refresh icon-spin \"></i>").write("\n        ");}function body_2(chk,ctx){return chk.reference(ctx._get(false, ["state"]),ctx,"h");}function body_3(chk,ctx){return chk.reference(ctx._get(false, ["updated"]),ctx,"h");}function body_4(chk,ctx){return chk.write("\n               ").exists(ctx._get(false, ["notFound"]),ctx,{"else":body_5,"block":body_6},null).write("\n               ").write("<a class=\"btn btn-danger btn-mini linkDelete\" data-context='{\"route\":\"/link/delete\", \"id\":\"").reference(ctx._get(false, ["link_id"]),ctx,"h").write("\"}' >Delete</a>").write("\n            ");}function body_5(chk,ctx){return chk.write("\n               ").write("<a class=\"btn btn-success btn-mini \"  href=\"#\" >Edit</a>").write("\n               ");}function body_6(chk,ctx){return chk.write("\n               ");}function body_7(chk,ctx){return chk.reference(ctx._get(false, ["owner_id"]),ctx,"h");}function body_8(chk,ctx){return chk.reference(ctx._get(false,["user","_id"]),ctx,"h");}function body_9(chk,ctx){return chk.write("\n            ").write("<span class=\"tags\">").write("\n            ").section(ctx._get(false, ["tags"]),ctx,{"block":body_10},null).write("\n            ").write("</span>").write("\n        ");}function body_10(chk,ctx){return chk.write("<a href=\"#\" title=\"Found ").reference(ctx._get(false, ["count"]),ctx,"h").write(" times\">").reference(ctx._get(false, ["word"]),ctx,"h").write("</a>");}return body_0;})();(function(){dust.register("navigation/breadcrumbs",body_0);function body_0(chk,ctx){return chk.write("<div class=\"row\">").write("\r\n  ").write("<div class=\"span8\">").write("\r\n    ").write("<ul class=\"breadcrumb\">").write("\r\n      ").section(ctx._get(false, ["crumbs"]),ctx,{"else":body_1,"block":body_2},null).write("\r\n    ").write("</ul>").write("\r\n  ").write("</div>").write("\r\n").write("</div>").write("\r\n");}function body_1(chk,ctx){return chk.write("\r\n         ").write("<li>no breadcrumbs yet</li>").write("\r\n      ");}function body_2(chk,ctx){return chk.write("\r\n        ").write("<li ").helper("math",ctx,{"block":body_3},{"key":body_6,"method":"add","operand":"1"}).write(">").write("\r\n          ").section(ctx._get(false, ["href"]),ctx,{"else":body_7,"block":body_8},null).write("\r\n          ").helper("sep",ctx,{"block":body_9},null).write("\r\n        ").write("</li>").write("\r\n      ");}function body_3(chk,ctx){return chk.helper("eq",ctx,{"block":body_4},{"value":body_5});}function body_4(chk,ctx){return chk.write("class=\"active\"");}function body_5(chk,ctx){return chk.reference(ctx._get(false, ["$len"]),ctx,"h");}function body_6(chk,ctx){return chk.reference(ctx._get(false, ["$idx"]),ctx,"h");}function body_7(chk,ctx){return chk.write("\r\n          ").write("<span>").reference(ctx._get(false, ["title"]),ctx,"h").write("</span>").write("\r\n          ");}function body_8(chk,ctx){return chk.write("\r\n          ").write("<a href=\"").reference(ctx._get(false, ["href"]),ctx,"h").write("\">").reference(ctx._get(false, ["title"]),ctx,"h").write("</a>").write("\r\n          ");}function body_9(chk,ctx){return chk.write("<span class=\"divider\">&raquo;</span>");}return body_0;})();(function(){dust.register("navigation/navbar",body_0);function body_0(chk,ctx){return chk.write("<div class=\"navbar navbar-fixed-top\">").write("\n    ").write("<div class=\"navbar-inner\">").write("\n        ").write("<div class=\"container\">").write("\n            ").write("<a class=\"btn btn-navbar\" data-toggle=\"collapse\" data-target=\".nav-collapse\">").write("\n                ").write("<span class=\"icon-bar\"></span>").write("\n                ").write("<span class=\"icon-bar\"></span>").write("\n                ").write("<span class=\"icon-bar\"></span>").write("\n            ").write("</a>").write("\n            ").write("<a class=\"brand\" href=\"/\">Links.To</a>").write("\n            ").write("<div class=\"nav-collapse\">").write("\n              ").write("<ul class=\"nav\">").write("\n                    ").write("<li><a href=\"/colls\">Collections</a></li>").write("\n                    ").write("<li><a href=\"/authors\">Authors</a></li>").write("\n                    ").write("<li><a href=\"/tags\">Tags</a></li>").write("\n                    ").write("<li><a href=\"/favorites\">Favorites</a></li>").write("\n              ").write("</ul>").write("\n                ").write("<!-- form class=\"navbar-search pull-left\" action=\"\">").write("\n                 ").write("<input type=\"text\" class=\"search-query span2\" placeholder=\"Search\" name=\"search\">").write("\n               ").write("</form -->").write("\n\n                ").write("<ul class=\"nav pull-right\">").write("\n                  ").section(ctx._get(false, ["user"]),ctx,{"else":body_1,"block":body_2},null).write("\n                  ").write("</li>").write("\n                ").write("</ul>").write("\n            ").write("</div>").write("\n        ").write("</div>").write("\n    ").write("</div>").write("\n").write("</div>");}function body_1(chk,ctx){return chk.write("\n                      ").write("<li>").write("\n                      ").write("<a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">Login <b class=\"caret\"></b></a>").write("\n                      ").partial("navigation/openIDs_login_list",ctx,null).write("\n                      ").write("</li>").write("\n                  ");}function body_2(chk,ctx){return chk.write("\n                     ").write("<li class=\"dropdown\">").write("\n                        ").write("<a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\">My Links <b class=\"caret\"></b></a>").write("\n                        ").write("<ul class=\"dropdown-menu\">").write("\n                            ").write("<li><a href=\"/colls/mine\">My collections</a></li>").write("\n                            ").write("<li><a href=\"/tags/mine\">My Tags</a></li>").write("\n                            ").write("<li><a href=\"/favorites/mine\">My Favorites</a></li>").write("\n                            ").write("<li class=\"divider\"></li>").write("\n                            ").write("<li><a href=\"/imports\" id=\"importFav\">Import Favorites</a></li>").write("\n                        ").write("</ul>").write("\n                     ").write("</li>").write("\n                     ").write("<li class=\"dropdown noPage\">").write("\n                        ").write("<a href=\"#\" class=\"dropdown-toggle logged-user\"  data-toggle=\"dropdown\" >").write("\n                          ").section(ctx._get(false, ["gravatarURL"]),ctx,{"else":body_3,"block":body_4},null).write("\n                          ").write("<b class=\"caret\"></b>").write("\n                        ").write("</a>").write("\n\n                      ").write("<ul class=\"dropdown-menu icons32\">").write("\n                        ").write("<li>").partial("navigation/user_badge",ctx,null).write("</li>").write("\n                     ").write("</ul>").write("\n\n                     ");}function body_3(chk,ctx){return chk.write("\n                              ").write("<div class=\"missing-user27\"></div>").write("\n                          ");}function body_4(chk,ctx){return chk.write("\n                              ").write("<img class=\"user-img27\"  src=\"").reference(ctx._get(true,[]),ctx,"h").write("\" height=\"27\" width=\"27\" title=\"").reference(ctx._get(false,["user","user_name"]),ctx,"h").write("\">").write("\n                            ");}return body_0;})();(function(){dust.register("navigation/openIDs_login_list",body_0);function body_0(chk,ctx){return chk.write("<ul class=\"dropdown-menu icons32\">").write("\n  ").write("<li><a href=\"/authenticate/google\"><i class=\"auth-icon32 auth-google32\"></i><span>Goodle</span></a></li>").write("\n  ").write("<li><a href=\"/authenticate/yahoo\"><i class=\"auth-icon32 auth-yahoo32\"></i><span>Yahoo</span></a></li>").write("\n  ").write("<li><a href=\"/authenticate/facebook\"><i class=\"auth-icon32 auth-facebook32\"></i>Facebook</a></li>").write("\n  ").write("<li><a href=\"/authenticate/twitter\"><i class=\"auth-icon32 auth-twitter32\"></i>Twitter</a></li>").write("\n  ").write("<!-- li><a href=\"/authenticate/windowslive\"><i class=\"auth-icon auth-windowslive\"></i>Windows Live</a></li -->").write("\n  ").write("<li><a href=\"/authenticate/dropbox\"><i class=\"auth-icon32 auth-dropbox32\"></i>DropBox</a></li>").write("\n  ").write("<li><a href=\"/authenticate/meetup\"><i class=\"auth-icon32 auth-meetup32\"></i>Meetup</a></li>").write("\n  ").write("<li><a href=\"/authenticate/linkedin\"><i class=\"auth-icon32 auth-linkedin32\"></i>Linkedin</a></li>").write("\n  ").write("<li><a href=\"/login/dummy\"><i class=\"auth-icon32 missing-user32\"></i>Dummy user</a></li>").write("\n").write("</ul>").write("\n");}return body_0;})();(function(){dust.register("navigation/user_badge",body_0);function body_0(chk,ctx){return chk.section(ctx._get(false, ["user"]),ctx,{"block":body_1},null);}function body_1(chk,ctx){return chk.write("\n").write("<table width=\"300px\" cellpadding=\"5\" class=\"user-badge-box\">").write("\n  ").write("<tr align=\"left\" valign=\"top\">").write("\n    ").write("<td>").write("\n      ").section(ctx._get(false, ["gravatarURL96"]),ctx,{"else":body_2,"block":body_3},null).write("\n    ").write("</td>").write("\n    ").write("<td>").write("\n      ").write("<div class=\"user-name\">").reference(ctx._get(false, ["screen_name"]),ctx,"h").write("</div>").write("\n      ").write("<div class=\"user-email\">").write("\n        ").section(ctx._get(false, ["email"]),ctx,{"else":body_4,"block":body_5},null).write("\n      ").write("</div>").write("\n    ").write("</td>").write("\n  ").write("</tr>").write("\n  ").write("<tr valign=\"top\">").write("\n    ").write("<td>").write("\n      ").write("<a class=\"btn\" href=\"/user/profile\">").write("\n        ").section(ctx._get(false, ["active_provider"]),ctx,{"block":body_6},null).write("\n        ").write("<span>Edit profile</span>").write("\n      ").write("</a>").write("\n    ").write("</td>").write("\n    ").write("<td align=\"right\">").write("\n      ").write("<a class=\"btn logout \" href=\"/logout\" title=\"").reference(ctx._get(false, ["title"]),ctx,"h").write("\">").write("\n        ").write("<span>Log Out</span>").write("\n        ").write("<i class=\"icon-play\"></i>").write("\n      ").write("</a>").write("\n    ").write("</td>").write("\n  ").write("</tr>").write("\n").write("</table>").write("\n");}function body_2(chk,ctx){return chk.write("\n         ").write("<div class=\"missing-user96\"></div>").write("\n      ");}function body_3(chk,ctx){return chk.write("\n         ").write("<img class=\"user-img96\" src=\"").reference(ctx._get(true,[]),ctx,"h").write("\">").write("\n         ");}function body_4(chk,ctx){return chk.write("\n          ").write("No email").write("\n        ");}function body_5(chk,ctx){return chk.write("\n          ").reference(ctx._get(true,[]),ctx,"h").write("\n         ");}function body_6(chk,ctx){return chk.write("\n        ").write("<span class=\"auth-icon auth-").reference(ctx._get(true,[]),ctx,"h").write("\" height=\"40px\" ></span>").write("\n        ");}return body_0;})();