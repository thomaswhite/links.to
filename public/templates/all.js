(function(){dust.register("main",body_0);function body_0(chk,ctx){return chk.write("<!doctype html>").write("\r\n").write("<!--[if lt IE 7 ]><html class=\"ie ie6\" lang=\"en\"> <![endif]-->").write("\r\n").write("<!--[if IE 7 ]><html class=\"ie ie7\" lang=\"en\"> <![endif]-->").write("\r\n").write("<!--[if IE 8 ]><html class=\"ie ie8\" lang=\"en\"> <![endif]-->").write("\r\n").write("<!--[if IE 9 ]><html class=\"ie ie9\" lang=\"en\"> <![endif]-->").write("\r\n").write("<!--[if (gte IE 10)|!(IE)]><!--><html lang=\"en\"> <!--<![endif]-->").write("\r\n  ").write("<head>").write("\r\n    ").write("<meta charset=\"utf-8\" />").write("\r\n     ").write("<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />").write("\r\n    ").block(ctx.getBlock("metaTags"),ctx,{},null).write("\r\n    ").write("<title>").block(ctx.getBlock("pageTitle"),ctx,{"block":body_1},null).write("</title>").write("\r\n    ").write("<script>pageParam=").reference(ctx.get("pageParam"),ctx,"h",["js","s"]).write(";</script>").write("\r\n    ").write("<script type=\"text/javascript\" src=\"//cdnjs.cloudflare.com/ajax/libs/headjs/0.99/head.min.js\"></script>").write("\r\n    ").write("<script>").write("\r\n      ").write("head.js(").write("\r\n          ").write("{socket_io_core:\"/socket.io/socket.io.js\"},").write("\r\n          ").write("{socket_main:\"/js/links-to/socket-io.js\"},").write("\r\n          ").write("{debug:\"/js/ba-debug.js\"},").write("\r\n          ").write("function(){").write("\r\n             ").write("console.log( 'linksTo socket-io has loaded');").write("\r\n          ").write("}").write("\r\n      ").write(");").write("\r\n      ").write("head.load(").write("\r\n          ").write("\"//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css\"").write("\r\n          ").write(", \"//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css\"").write("\r\n          ").write(", \"/css/links-to.css\"").write("\r\n          ").section(ctx.getPath(false,["config","stelth","screen"]),ctx,{"block":body_2},null).write("\r\n      ").write(");").write("\r\n      ").write("var pageScripts=[], pageCSS=[];").write("\r\n    ").write("</script>").write("\r\n    ").block(ctx.getBlock("headLinks"),ctx,{},null).write("\r\n    ").block(ctx.getBlock("headContent"),ctx,{},null).write("\r\n  ").write("</head>").write("\r\n  ").write("<body class=\"").block(ctx.getBlock("bodyClass"),ctx,{},null).write("\">").write("\r\n\r\n    ").write("<div id=\"navbar\">").partial("navigation/navbar",ctx,null).write("</div>").write("\r\n    ").write("<div class=\"container\" id=\"container\">").write("\r\n        ").block(ctx.getBlock("container"),ctx,{"block":body_3},null).write("\r\n    ").write("</div>").write("\r\n    ").partial("mainPageScripts",ctx,null).write("\r\n    ").block(ctx.getBlock("pageScripts"),ctx,{},null).write("\r\n    ").write("<script>").write("\r\n        ").write("if( pageScripts.length) { head.js.applay(undefined,   pageScripts ); }").write("\r\n        ").write("if( pageCSS.length)     { head.load.applay(undefined, pageCSS ); }").write("\r\n    ").write("</script>").write("\r\n\r\n    ").block(ctx.getBlock("pageBottom"),ctx,{},null).write("\r\n\r\n  ").write("</body>").write("\r\n").write("</html>");}function body_1(chk,ctx){return chk.write("Links.to: Page");}function body_2(chk,ctx){return chk.write("\r\n          ").write(", \"/css/stelth.css\"").write("\r\n          ");}function body_3(chk,ctx){return chk.write("\r\n          ").write("<div id=\"breadcrumbs\">").partial("navigation/breadcrumbs",ctx,null).write("</div>").write("\r\n          ").write("<div class=\"row\"><div class=\"span8\" id=\"title\">").block(ctx.getBlock("title"),ctx,{"block":body_4},null).write("</div></div>").write("\r\n          ").write("<div id=\"beforeContent\">").block(ctx.getBlock("beforeContent"),ctx,{},null).write("</div>").write("\r\n          ").write("<div id=\"content\">").block(ctx.getBlock("content"),ctx,{"block":body_5},null).write("</div>").write("\r\n          ").block(ctx.getBlock("contentBottom"),ctx,{},null).write("\r\n       ");}function body_4(chk,ctx){return chk.write("<h1>").reference(ctx.get("title"),ctx,"h").write("</h1>");}function body_5(chk,ctx){return chk.write("_content_");}return body_0;})();(function(){dust.register("controls/add_button_row",body_0);function body_0(chk,ctx){return chk.section(ctx.get("user"),ctx,{"block":body_1},{"Collection":body_13}).write("\r\n");}function body_1(chk,ctx){return chk.write("\r\n    ").write("<div class=\"row\">").write("\r\n        ").write("<div class=\"span12 button\">").write("\r\n            ").helper("select",ctx,{"block":body_2},{"key":body_12}).write("\r\n        ").write("</div>").write("\r\n    ").write("</div>").write("\r\n");}function body_2(chk,ctx){return chk.write("\r\n                ").helper("eq",ctx,{"block":body_3},{"value":"collection:list"}).write("\r\n                ").helper("eq",ctx,{"block":body_5},{"value":"collection:get"}).write("\r\n                ").helper("eq",ctx,{"block":body_10},{"value":"imports:list"}).write("\r\n            ");}function body_3(chk,ctx){return chk.write("\r\n                    ").partial(body_4,ctx,null).write("\r\n                ");}function body_4(chk,ctx){return chk.write("controls/add_button_").reference(ctx.getPath(false,["addButton","type"]),ctx,"h");}function body_5(chk,ctx){return chk.write("\r\n                    ").helper("eq",ctx,{"block":body_6},{"value":body_8,"key":body_9}).write("\r\n                ");}function body_6(chk,ctx){return chk.write("\r\n                        ").partial(body_7,ctx,null).write("\r\n                    ");}function body_7(chk,ctx){return chk.write("controls/add_button_").reference(ctx.getPath(false,["addButton","type"]),ctx,"h");}function body_8(chk,ctx){return chk.reference(ctx.getPath(false,["user","_id"]),ctx,"h");}function body_9(chk,ctx){return chk.reference(ctx.getPath(false,["collection","owner"]),ctx,"h");}function body_10(chk,ctx){return chk.write("\r\n                    ").partial(body_11,ctx,null).write("\r\n                ");}function body_11(chk,ctx){return chk.write("controls/add_button_").reference(ctx.getPath(false,["addButton","type"]),ctx,"h");}function body_12(chk,ctx){return chk.reference(ctx.getPath(false,["pageParam","route"]),ctx,"h");}function body_13(chk,ctx){return chk.reference(ctx.get("collection"),ctx,"h");}return body_0;})();(function(){dust.register("date_time/updated",body_0);function body_0(chk,ctx){return chk.exists(ctx.get("updatedFromNow"),ctx,{"block":body_1},null).write("\r\n");}function body_1(chk,ctx){return chk.write("\r\n").write("<span class=\"updated\"  title=\"").reference(ctx.get("updatedStr"),ctx,"h").write("\" ><i class=\"icon-calendar\"></i><span\">").reference(ctx.get("updatedFromNow"),ctx,"h").write("</span></span>").write("\r\n");}return body_0;})();(function(){dust.register("imports/import",body_0);function body_0(chk,ctx){return chk.section(ctx.get("import"),ctx,{"block":body_1},null);}function body_1(chk,ctx){return chk.write("\r\n").write("<div id=\"").reference(ctx.get("contentID"),ctx,"h").write("\">").write("\r\n  ").write("<div id=\"grid\">").write("\r\n    ").section(ctx.get("root_nodes"),ctx,{"else":body_2,"block":body_3},null).write("\r\n  ").write("</div>").write("\r\n").write("</div>").write("\r\n");}function body_2(chk,ctx){return chk.write("\r\n    ").write("<div class=\"row\"><div class=\"span6\">Processing import data...</div></div>").write("\r\n    ");}function body_3(chk,ctx){return chk.write("\r\n    ").partial("imports/import_line",ctx,null).write("\r\n    ");}return body_0;})();(function(){dust.register("imports/imports",body_0);function body_0(chk,ctx){return chk.section(ctx.get("collection"),ctx,{"block":body_1},null);}function body_1(chk,ctx){return chk.write("\r\n").write("<div id=\"").reference(ctx.get("contentID"),ctx,"h").write("\">").write("\r\n  ").write("<div class=\"row\">").write("\r\n    ").write("<div class=\"span8 ").exists(ctx.get("canEdit"),ctx,{"block":body_2},null).write(" ta wrap coll_description\" >").reference(ctx.get("description"),ctx,"h").write("</div>").write("\r\n  ").write("</div>").write("\r\n  ").partial("collections/collection_toolbox.dust",ctx,null).write("\r\n  ").partial("controls/add_button_row",ctx,null).write("\r\n  ").write("<div id=\"grid\">").write("\r\n    ").section(ctx.get("links"),ctx,{"else":body_3,"block":body_4},{"collection_id":body_5}).write("\r\n  ").write("</div>").write("\r\n").write("</div>").write("\r\n");}function body_2(chk,ctx){return chk.write("eip");}function body_3(chk,ctx){return chk.write("\r\n    ").write("<div class=\"row\"><div class=\"span6\">No links in this collection yet.</div></div>").write("\r\n    ");}function body_4(chk,ctx){return chk.write("\r\n    ").partial("links/link",ctx,null).write("\r\n    ");}function body_5(chk,ctx){return chk.reference(ctx.get("_id"),ctx,"h");}return body_0;})();(function(){dust.register("imports/imports_list_container",body_0);function body_0(chk,ctx){return chk.write("<div id=\"breadcrumbs\">").partial("navigation/breadcrumbs",ctx,null).write("</div>").write("\r\n").write("<div class=\"row\">").write("\r\n    ").write("<div class=\"span8\" id=\"title\"><h1>").reference(ctx.get("title2"),ctx,"h").write("</h1></div>").write("\r\n").write("</div>").write("\r\n").write("<div id=\"beforeContent\">").partial("controls/add_button_row",ctx,null).write("</div>").write("\r\n").write("<div id=\"content\">").write("\r\n    ").partial("imports/imports_list_table",ctx,null).write("\r\n").write("</div>");}return body_0;})();(function(){dust.register("imports/imports_list_line",body_0);function body_0(chk,ctx){return chk.write("<div class=\"row\" id=\"import_").reference(ctx.get("_id"),ctx,"h").write("\">").write("\r\n      ").write("<div class=\"span5 coll-title\"><a href=\"/imports/").reference(ctx.get("_id"),ctx,"h").write("\">").reference(ctx.get("title"),ctx,"h").write("</a></div>").write("\r\n      ").write("<div class=\"span1 coll-e\">").reference(ctx.get("folders"),ctx,"h").write("</div>").write("\r\n      ").write("<div class=\"span1 coll-e\">").reference(ctx.get("links"),ctx,"h").write("</div>").write("\r\n      ").write("<div class=\"span2 coll-e\">").write("\r\n        ").section(ctx.get("created"),ctx,{"block":body_1},null).write("\r\n      ").write("</div>").write("\r\n").write("</div>").write("\r\n\r\n");}function body_1(chk,ctx){return chk.write("\r\n          ").write("<span class=\"updated\"  title='").helper("timeStamp",ctx,{},{"time":body_2,"format":"YYYY-MM-DD HH:mm"}).write("' >").write("\r\n              ").write("<i class=\"icon-calendar\"></i>").write("\r\n              ").write("<span>").helper("timeFromNow",ctx,{},{"time":body_3}).write("</span>").write("\r\n          ").write("</span>").write("\r\n        ");}function body_2(chk,ctx){return chk.reference(ctx.getPath(true,[]),ctx,"h");}function body_3(chk,ctx){return chk.reference(ctx.getPath(true,[]),ctx,"h");}return body_0;})();(function(){dust.register("imports/imports_list_table",body_0);function body_0(chk,ctx){return chk.write("<div id=\"").reference(ctx.get("contentID"),ctx,"h").write("\">").write("\r\n    ").write("<div class=\"row table-header\">").write("\r\n        ").write("<div class=\"span5 table-header\">Import Name</div>").write("\r\n        ").write("<div class=\"span1 coll-e\">Folders</div>").write("\r\n        ").write("<div class=\"span1 coll-e\">Links</div>").write("\r\n        ").write("<div class=\"span2 coll-e\">Imported on</div>").write("\r\n    ").write("</div>").write("\r\n    ").write("\r\n    ").write("<div id=\"coll-list-rows\">").write("\r\n        ").section(ctx.get("grid"),ctx,{"else":body_1,"block":body_2},null).write("\r\n    ").write("</div>").write("\r\n").write("</div>").write("\r\n");}function body_1(chk,ctx){return chk.write("\r\n            ").write("<div class=\"row\">").write("\r\n                ").write("<div class=\"span8\">No imports available yet.</div>").write("\r\n            ").write("</div>").write("\r\n        ");}function body_2(chk,ctx){return chk.write("\r\n            ").partial("imports/imports_list_line",ctx,null).write("\r\n        ");}return body_0;})();(function(){dust.register("imports/import_container",body_0);function body_0(chk,ctx){return chk.write("<div id=\"breadcrumbs\">").partial("navigation/breadcrumbs",ctx,null).write("</div>").write("\r\n\r\n").write("<div class=\"row\">").write("\r\n    ").write("<div class=\"span8\" id=\"title\">").write("\r\n        ").write("<h1 class=\"eip\" id=\"title\"><span class=\"coll-title-prefix\">Import </span> ").reference(ctx.get("title"),ctx,"h").write("</h1>").write("\r\n        ").write("<p>Size:").reference(ctx.getPath(false,["import","size"]),ctx,"h").write(", imported on ").helper("timeStamp",ctx,{},{"time":body_1,"format":"YYYY-MM-DD HH:mm"}).write(", ").helper("timeFromNow",ctx,{},{"time":body_2}).write("</p>").write("\r\n        ").write("<span id=\"importBtn\">").write("\r\n        ").write("<a class=\"btn btn-danger btn-small\"  href=\"/imports/").reference(ctx.getPath(false,["import","_id"]),ctx,"h").write("/delete?back=/imports\"><i class=\"icon-trash icon-white\"></i> Delete</a>").write("\r\n        ").write("<a class=\"btn btn-primary btn-small import-btn\"  href=\"#\"><i class=\"icon-play icon-white\"></i>&nbsp;Import</a>").write("\r\n        ").write("</span>").write("\r\n        ").write("<span id=\"processBtn\" style=\"display:none\">").write("\r\n        ").write("<a class=\"btn btn-danger btn-small\"  href=\"#\" id=\"cancelImport\"><i class=\"icon-stop icon-white\"></i> Cancel</a>").write("\r\n        ").write("</span>").write("\r\n    ").write("</div>").write("\r\n").write("</div>").write("\r\n").write("<div id=\"beforeContent\">").write("\r\n  ").write("<table id=\"importDetails\" border=\"1\" style=\"margin:10px 0\" cellspacing=\"5\" cellpadding=\"4\">").write("\r\n    ").write("<thead>").write("\r\n        ").write("<tr>").write("\r\n            ").write("<th></th>").write("\r\n            ").write("<th></th>").write("\r\n            ").write("<th>Excluded</th>").write("\r\n            ").write("<th>Queued</th>").write("\r\n            ").write("<th>Imported</th>").write("\r\n        ").write("</tr>").write("\r\n    ").write("</thead>").write("\r\n    ").write("<tbody>").write("\r\n       ").write("<tr align=\"right\">").write("\r\n         ").write("<td align=\"left\">Folders:</td>").write("\r\n         ").write("<td>").reference(ctx.getPath(false,["import","folders"]),ctx,"h").write("</td>").write("\r\n         ").write("<td>").reference(ctx.getPath(false,["import","foldersExcluded"]),ctx,"h").write("</td>").write("\r\n         ").write("<td>").reference(ctx.getPath(false,["import","foldersQueued"]),ctx,"h").write("</td>").write("\r\n         ").write("<td id=\"importedFolders\">").reference(ctx.getPath(false,["import","foldersImported"]),ctx,"h").write("</td>").write("\r\n       ").write("</tr>").write("\r\n       ").write("<tr align=\"right\">").write("\r\n         ").write("<td align=\"left\">Links:</td>").write("\r\n           ").write("<td>").reference(ctx.getPath(false,["import","links"]),ctx,"h").write("</td>").write("\r\n           ").write("<td>").reference(ctx.getPath(false,["import","linksExcluded"]),ctx,"h").write("</td>").write("\r\n           ").write("<td>").reference(ctx.getPath(false,["import","linksQueued"]),ctx,"h").write("</td>").write("\r\n         ").write("<td id=\"importedLinks\">").reference(ctx.getPath(false,["import","linksImported"]),ctx,"h").write("</td>").write("\r\n       ").write("</tr>").write("\r\n    ").write("</tbody>").write("\r\n  ").write("</table>").write("\r\n").write("</div>").write("\r\n").write("<div id=\"content\">").partial("imports/import",ctx,null).write("</div>").write("\r\n\r\n");}function body_1(chk,ctx){return chk.reference(ctx.getPath(false,["import","created"]),ctx,"h");}function body_2(chk,ctx){return chk.reference(ctx.getPath(false,["import","created"]),ctx,"h");}return body_0;})();(function(){dust.register("imports/import_folder_content",body_0);function body_0(chk,ctx){return chk.write("<div class=\"links-cont span8\">").write("\r\n   ").section(ctx.get("nodes"),ctx,{"block":body_1},null).write("\r\n").write("</div>");}function body_1(chk,ctx){return chk.write("\r\n      ").partial("imports/import_line",ctx,null).write("\r\n   ");}return body_0;})();(function(){dust.register("imports/page_import",body_0);var blocks={'bodyClass':body_1,'pageTitle':body_2,'container':body_3,'pageScripts':body_4};function body_0(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.partial("main",ctx,null).write("\r\n\r\n").write("\r\n").write("\r\n\r\n").write("\r\n\r\n").write("\r\n");}function body_1(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("import");}function body_2(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("Import: ").reference(ctx.get("title"),ctx,"h");}function body_3(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\r\n   ").partial("imports/import_container",ctx,null).write("\r\n");}function body_4(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\r\n   ").write("<script>").write("\r\n     ").write("head.js(").write("\r\n         ").write("{ imports:    \"/js/links-to/import.js\"}").write("\r\n     ").write(");").write("\r\n   ").write("</script>").write("\r\n ");}return body_0;})();(function(){dust.register("imports/import_line",body_0);function body_0(chk,ctx){return chk.write("<div class=\"row ").section(ctx.get("excluded"),ctx,{"block":body_1},null).write("\" id=\"import_").reference(ctx.get("_id"),ctx,"h").write("\" data-id=\"").reference(ctx.get("_id"),ctx,"h").write("\">").write("\r\n      ").write("<div class=\"span5 coll-title\">").write("\r\n          ").write("<span>").write("\r\n              ").section(ctx.get("folder"),ctx,{"else":body_2,"block":body_3},null).write("\r\n          ").write("</span>").write("\r\n          ").reference(ctx.get("title"),ctx,"h").write("\r\n          ").section(ctx.get("folder"),ctx,{"block":body_6},null).write("\r\n      ").write("</div>").write("\r\n      ").write("<div class=\"links-cont span8\"></div>").write("\r\n").write("</div>").write("\r\n\r\n");}function body_1(chk,ctx){return chk.write("excluded");}function body_2(chk,ctx){return chk.write("\r\n                ").write("<span class=\"link-icon\" style=\" background-image:url(").reference(ctx.get("icon"),ctx,"h").write(")\"></span>").write("\r\n              ");}function body_3(chk,ctx){return chk.write("\r\n                ").section(ctx.get("excluded"),ctx,{"else":body_4,"block":body_5},null).write("\r\n              ");}function body_4(chk,ctx){return chk.write("\r\n                  ").write("<i class=\"import-folder icon-expand-alt\"></i>").write("\r\n                ");}function body_5(chk,ctx){return chk.write("\r\n                  ").write("<i class=\"import-folder icon-ban-circle text-error\"></i>").write("\r\n                ");}function body_6(chk,ctx){return chk.write("\r\n            ").write("<span title='").reference(ctx.getPath(false,["folder","folders"]),ctx,"h").write(" folders/").reference(ctx.getPath(false,["folder","links"]),ctx,"h").write(" links'>(").reference(ctx.getPath(false,["folder","folders"]),ctx,"h").write("/").reference(ctx.getPath(false,["folder","links"]),ctx,"h").write(")</span>").write("\r\n            ").section(ctx.get("add_date"),ctx,{"block":body_7},null).write("\r\n            ").write("<input type=\"checkbox\" class=\"excluded\" ").section(ctx.get("excluded"),ctx,{"else":body_10,"block":body_11},null).write(" >").write("\r\n          ");}function body_7(chk,ctx){return chk.write("\r\n              ").write("<span class=\"updated\"  title='").helper("timeStamp",ctx,{},{"time":body_8,"format":"YYYY-MM-DD HH:mm"}).write("' >, ").helper("timeFromNow",ctx,{},{"time":body_9}).write("</span>").write("\r\n            ");}function body_8(chk,ctx){return chk.reference(ctx.getPath(true,[]),ctx,"h");}function body_9(chk,ctx){return chk.reference(ctx.getPath(true,[]),ctx,"h");}function body_10(chk,ctx){return chk.write("checked=\"checked\"");}function body_11(chk,ctx){return chk;}return body_0;})();(function(){dust.register("imports/page_imports-list",body_0);var blocks={'bodyClass':body_1,'pageTitle':body_2,'container':body_3,'pageScripts':body_4};function body_0(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.partial("main",ctx,null).write("\r\n\r\n").write("\r\n").write("\r\n\r\n").write("\r\n\r\n").write("\r\n");}function body_1(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("imports-list");}function body_2(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("My Imporst in Links.to");}function body_3(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\r\n   ").partial("imports/imports_list_container",ctx,null).write("\r\n");}function body_4(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\r\n   ").write("<script>").write("\r\n     ").write("head.js(").write("\r\n         ").write("{ imports:    \"/js/links-to/imports.js\"},").write("\r\n         ").write("{ iframe_post:\"/js/jquery.iframe-post-form.js\"}").write("\r\n     ").write(");").write("\r\n   ").write("</script>").write("\r\n ");}return body_0;})();(function(){dust.register("collections/collection_container",body_0);function body_0(chk,ctx){return chk.write("<div id=\"breadcrumbs\">").partial("navigation/breadcrumbs",ctx,null).write("</div>").write("\r\n").write("<div class=\"row\">").write("\r\n    ").write("<div class=\"span8\" id=\"title\">").write("\r\n        ").write("<h1 class=\"eip\" id=\"title\"><span class=\"coll-title-prefix\">Collection </span> ").reference(ctx.get("title"),ctx,"h").write("</h1>").write("\r\n        ").section(ctx.getPath(false,["grid","length"]),ctx,{"block":body_1},null).write("\r\n    ").write("</div>").write("\r\n").write("</div>").write("\r\n").write("<div id=\"beforeContent\">").block(ctx.getBlock("beforeContent"),ctx,{},null).write("</div>").write("\r\n").write("<div id=\"content\">").partial("collections/collection",ctx,null).write("</div>").write("\r\n\r\n");}function body_1(chk,ctx){return chk.write("\r\n        ").write("<a class=\"btn btn-danger btn-mini\"  href=\"/coll/").reference(ctx.getPath(false,["collection","_id"]),ctx,"h").write("/delete?back=/coll/mine\"><i class=\"icon-trash icon-white\"></i> Delete</a>").write("\r\n        ");}return body_0;})();(function(){dust.register("collections/collection_list_container",body_0);function body_0(chk,ctx){return chk.write("<div id=\"breadcrumbs\">").partial("navigation/breadcrumbs",ctx,null).write("</div>").write("\r\n").write("<div class=\"row\">").write("\r\n    ").write("<div class=\"span8\" id=\"title\"><h1>").reference(ctx.get("title2"),ctx,"h").write("</h1></div>").write("\r\n").write("</div>").write("\r\n").write("<div id=\"beforeContent\">").partial("controls/add_button_row",ctx,null).write("</div>").write("\r\n").write("<div id=\"content\">").write("\r\n    ").partial("collections/collection_list_table",ctx,null).write("\r\n").write("</div>");}return body_0;})();(function(){dust.register("collections/collection_list_add_line",body_0);function body_0(chk,ctx){return chk.section(ctx.get("collection"),ctx,{"block":body_1},{"userID":body_2});}function body_1(chk,ctx){return chk.write("\r\n    ").partial("collections/collection_list_line",ctx,null).write("\r\n");}function body_2(chk,ctx){return chk.reference(ctx.getPath(false,["user","_id"]),ctx,"h");}return body_0;})();(function(){dust.register("collections/collection_toolbox",body_0);function body_0(chk,ctx){return chk.write("\r\n").write("<div class=\"row\">").write("\r\n    ").write("<div class=\"span8\">").write("\r\n            ").write("<span class=\"btn-toolbar\">").write("\r\n              ").write("\r\n          ").helper("eq",ctx,{"block":body_1},{"key":body_3,"value":body_4}).write("\r\n            ").write("</span>").write("\r\n    ").write("</div>").write("\r\n").write("</div>");}function body_1(chk,ctx){return chk.write("\r\n            ").notexists(ctx.getPath(false,["collection","links"]),ctx,{"block":body_2},null).write("\r\n            ");}function body_2(chk,ctx){return chk.write("\r\n                      ").write("<span class=\"btn-group\">").write("\r\n                        ").write("<a class=\"btn btn-danger btn-mini\"  href=\"/coll/").reference(ctx.getPath(false,["collection","_id"]),ctx,"h").write("/delete\" title=\"Delete\"><i class=\"icon-white icon-trash\"></i></a>").write("\r\n                      ").write("</span>").write("\r\n            ");}function body_3(chk,ctx){return chk.reference(ctx.getPath(false,["collection","owner"]),ctx,"h");}function body_4(chk,ctx){return chk.reference(ctx.getPath(false,["user","_id"]),ctx,"h");}return body_0;})();(function(){dust.register("collections/collection_list_line",body_0);function body_0(chk,ctx){return chk.write("  <div class=\"row\" id=\"coll_").reference(ctx.get("_id"),ctx,"h").write("\">").write("\r\n      ").write("<div class=\"span5 coll-title\">").write("\r\n        ").write("<a href=\"/coll/").reference(ctx.get("_id"),ctx,"h").write("\" title=\"").reference(ctx.get("description"),ctx,"h").write("\" >").reference(ctx.get("title"),ctx,"h").write("</a>").write("\r\n            ").helper("eq",ctx,{"block":body_1},{"key":body_4,"value":body_5}).write("\r\n        ").write("<span>").reference(ctx.get("desciption"),ctx,"h").write("</span>").write("\r\n      ").write("</div>").write("\r\n      ").write("<div class=\"span1 coll-e\">").reference(ctx.getPath(false,["links","length"]),ctx,"h").write("</div>").write("\r\n      ").write("<div class=\"span2 coll-e\">").write("\r\n        ").section(ctx.get("updated"),ctx,{"block":body_6},null).write("\r\n      ").write("</div>").write("\r\n      ").write("<div class=\"span2 coll-e\">").write("\r\n          ").write("<a href=\"/author/").reference(ctx.get("owner"),ctx,"h").write("\">").write("\r\n            ").helper("select",ctx,{"block":body_9},{"key":body_15}).write("\r\n          ").write("</a>").write("\r\n      ").write("</div>").write("\r\n  ").write("</div>").write("\r\n\r\n");}function body_1(chk,ctx){return chk.write("\r\n                    ").write("<span class=\"icon-user my-collection\" title=\"This collection is mine\"></span>").write("\r\n                    ").helper("lt",ctx,{"block":body_2},{"key":body_3,"value":"1"}).write("\r\n            ");}function body_2(chk,ctx){return chk.write("\r\n                      ").write("<a href=\"#\" data-context='{\"route\":\"/coll/delete\", \"id\":\"").reference(ctx.get("_id"),ctx,"h").write("\"}' title=\"Delete\" class=\"deleteIcon coll\">").write("\r\n                        ").write("<i class=\"icon-trash\"></i>").write("\r\n                      ").write("</a>").write("\r\n                    ");}function body_3(chk,ctx){return chk.reference(ctx.getPath(false,["links","length"]),ctx,"h");}function body_4(chk,ctx){return chk.reference(ctx.get("owner"),ctx,"h");}function body_5(chk,ctx){return chk.reference(ctx.getPath(false,["user","_id"]),ctx,"h");}function body_6(chk,ctx){return chk.write("\r\n          ").write("<span class=\"updated\"  title='").helper("timeStamp",ctx,{},{"time":body_7,"format":"YYYY-MM-DD HH:mm"}).write("' >").write("\r\n              ").write("<i class=\"icon-calendar\"></i>").write("\r\n              ").write("<span>").helper("timeFromNow",ctx,{},{"time":body_8}).write("</span>").write("\r\n          ").write("</span>").write("\r\n        ");}function body_7(chk,ctx){return chk.reference(ctx.get("updated"),ctx,"h");}function body_8(chk,ctx){return chk.reference(ctx.get("updated"),ctx,"h");}function body_9(chk,ctx){return chk.write("\r\n             ").helper("eq",ctx,{"block":body_10},{"value":body_11}).write("\r\n             ").helper("default",ctx,{"block":body_12},null).write("\r\n           ");}function body_10(chk,ctx){return chk.write("\r\n                ").write("<span>me</span>").write("\r\n             ");}function body_11(chk,ctx){return chk.reference(ctx.getPath(false,["user","_id"]),ctx,"h");}function body_12(chk,ctx){return chk.write("\r\n              ").section(ctx.get("author_screen_name"),ctx,{"else":body_13,"block":body_14},null).write("\r\n            ");}function body_13(chk,ctx){return chk.write("\r\n                 ").write("author").write("\r\n              ");}function body_14(chk,ctx){return chk.write("\r\n                  ").reference(ctx.getPath(true,[]),ctx,"h").write("\r\n                ");}function body_15(chk,ctx){return chk.reference(ctx.get("owner"),ctx,"h");}return body_0;})();(function(){dust.register("mainPageScripts",body_0);function body_0(chk,ctx){return chk.write("<script>").write("\r\n  ").write("head.js(").write("\r\n      ").write("{jquery:\"//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.js\"},").write("\r\n      ").write("{dust:\"/js/dust-core-2.0.3.js\"},").write("\r\n      ").write("{dust_helpers:\"/js/dust-helpers.js\"},").write("\r\n      ").write("{moment:\"/js/moment.js\"},").write("\r\n      ").write("{dust_templates: \"/templates/all.js\"},").write("\r\n      ").write("{page:\"/js/page.js\"},").write("\r\n      ").write("{main: \"/js/links-to/main.js\"},").write("\r\n      ").write("{pages:\"/js/links-to/pages.js\"},").write("\r\n      ").write("function(){").write("\r\n          ").write("pageAddRoutes();").write("\r\n          ").write("page_init();").write("\r\n      ").write("}").write("\r\n  ").write(");").write("\r\n  ").write("head.js(\"//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js\");").write("\r\n").write("</script>").write("\r\n").write("\r\n");}return body_0;})();(function(){dust.register("collections/page_collections-list",body_0);var blocks={'bodyClass':body_1,'pageTitle':body_2,'container':body_3};function body_0(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.partial("main",ctx,null).write("\r\n\r\n").write("\r\n").write("\r\n\r\n").write("\r\n\r\n").write("\r\n\r\n\r\n");}function body_1(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("collection-list");}function body_2(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("My collections in Links.to");}function body_3(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\r\n   ").partial("collections/collection_list_container",ctx,null).write("\r\n");}return body_0;})();(function(){dust.register("collections/collection_list_table",body_0);function body_0(chk,ctx){return chk.write("<div id=\"").reference(ctx.get("contentID"),ctx,"h").write("\">").write("\r\n    ").write("<div class=\"row table-header\">").write("\r\n        ").write("<div class=\"span5 table-header\">Collection Name</div>").write("\r\n        ").write("<div class=\"span1 coll-e\">Links</div>").write("\r\n        ").write("<div class=\"span2 coll-e\">Last updated</div>").write("\r\n        ").write("<div class=\"span2  coll-e\">Author</div>").write("\r\n    ").write("</div>").write("\r\n    ").write("\r\n    ").write("<div id=\"coll-list-rows\">").write("\r\n        ").section(ctx.get("grid"),ctx,{"else":body_1,"block":body_2},null).write("\r\n    ").write("</div>").write("\r\n").write("</div>").write("\r\n");}function body_1(chk,ctx){return chk.write("\r\n            ").write("<div class=\"row\">").write("\r\n                ").write("<div class=\"span8\">No collections available yet.</div>").write("\r\n            ").write("</div>").write("\r\n        ");}function body_2(chk,ctx){return chk.write("\r\n            ").partial("collections/collection_list_line",ctx,null).write("\r\n        ");}return body_0;})();(function(){dust.register("collections/collection",body_0);function body_0(chk,ctx){return chk.section(ctx.get("collection"),ctx,{"block":body_1},null);}function body_1(chk,ctx){return chk.write("\r\n").write("<div id=\"").reference(ctx.get("contentID"),ctx,"h").write("\">").write("\r\n  ").write("<div class=\"row\">").write("\r\n    ").write("<div class=\"span8 ").exists(ctx.get("canEdit"),ctx,{"block":body_2},null).write(" ta wrap coll_description\" >").reference(ctx.get("description"),ctx,"h").write("</div>").write("\r\n  ").write("</div>").write("\r\n  ").partial("collections/collection_toolbox.dust",ctx,null).write("\r\n  ").partial("controls/add_button_row",ctx,null).write("\r\n  ").write("<div id=\"grid\">").write("\r\n    ").section(ctx.get("links"),ctx,{"else":body_3,"block":body_4},{"collection_id":body_5}).write("\r\n  ").write("</div>").write("\r\n").write("</div>").write("\r\n");}function body_2(chk,ctx){return chk.write("eip");}function body_3(chk,ctx){return chk.write("\r\n    ").write("<div class=\"row\"><div class=\"span6\">No links in this collection yet.</div></div>").write("\r\n    ");}function body_4(chk,ctx){return chk.write("\r\n    ").partial("links/link",ctx,null).write("\r\n    ");}function body_5(chk,ctx){return chk.reference(ctx.get("_id"),ctx,"h");}return body_0;})();(function(){dust.register("navigation/navbar",body_0);function body_0(chk,ctx){return chk.write("<div class=\"navbar navbar-fixed-top\">").write("\r\n    ").write("<div class=\"navbar-inner\">").write("\r\n        ").write("<div class=\"container\">").write("\r\n            ").write("<a class=\"btn btn-navbar\" data-toggle=\"collapse\" data-target=\".nav-collapse\">").write("\r\n                ").write("<span class=\"icon-bar\"></span>").write("\r\n                ").write("<span class=\"icon-bar\"></span>").write("\r\n                ").write("<span class=\"icon-bar\"></span>").write("\r\n            ").write("</a>").write("\r\n            ").write("<a class=\"brand\" href=\"/\">Links.To</a>").write("\r\n            ").write("<div class=\"nav-collapse\">").write("\r\n              ").write("<ul class=\"nav\">").write("\r\n                    ").write("<li><a href=\"/coll\">Collections</a></li>").write("\r\n                    ").write("<li><a href=\"/authors\">Authors</a></li>").write("\r\n                    ").write("<li><a href=\"/tags\">Tags</a></li>").write("\r\n                    ").write("<li><a href=\"/favorites\">Favorites</a></li>").write("\r\n              ").write("</ul>").write("\r\n                ").write("<!-- form class=\"navbar-search pull-left\" action=\"\">").write("\r\n                 ").write("<input type=\"text\" class=\"search-query span2\" placeholder=\"Search\" name=\"search\">").write("\r\n               ").write("</form -->").write("\r\n\r\n                ").write("<ul class=\"nav pull-right\">").write("\r\n                  ").section(ctx.get("user"),ctx,{"else":body_1,"block":body_2},null).write("\r\n                  ").write("</li>").write("\r\n                ").write("</ul>").write("\r\n            ").write("</div>").write("\r\n        ").write("</div>").write("\r\n    ").write("</div>").write("\r\n").write("</div>");}function body_1(chk,ctx){return chk.write("\r\n                      ").write("<li>").write("\r\n                      ").write("<a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">Login <b class=\"caret\"></b></a>").write("\r\n                      ").partial("navigation/openIDs_login_list",ctx,null).write("\r\n                      ").write("</li>").write("\r\n                  ");}function body_2(chk,ctx){return chk.write("\r\n                     ").write("<li class=\"dropdown\">").write("\r\n                        ").write("<a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\">My Links <b class=\"caret\"></b></a>").write("\r\n                        ").write("<ul class=\"dropdown-menu\">").write("\r\n                            ").write("<li><a href=\"/coll/mine\">My collections</a></li>").write("\r\n                            ").write("<li><a href=\"/tags/mine\">My Tags</a></li>").write("\r\n                            ").write("<li><a href=\"/favorites/mine\">My Favorites</a></li>").write("\r\n                            ").write("<li class=\"divider\"></li>").write("\r\n                            ").write("<li><a href=\"/imports\" id=\"importFav\">Import Favorites</a></li>").write("\r\n                        ").write("</ul>").write("\r\n                     ").write("</li>").write("\r\n                     ").write("<li class=\"dropdown noPage\">").write("\r\n                        ").write("<a href=\"#\" class=\"dropdown-toggle logged-user\"  data-toggle=\"dropdown\" >").write("\r\n                          ").section(ctx.get("gravatarURL"),ctx,{"else":body_3,"block":body_4},null).write("\r\n                          ").write("<b class=\"caret\"></b>").write("\r\n                        ").write("</a>").write("\r\n\r\n                      ").write("<ul class=\"dropdown-menu icons32\">").write("\r\n                        ").write("<li>").partial("navigation/user_badge",ctx,null).write("</li>").write("\r\n                     ").write("</ul>").write("\r\n\r\n                     ");}function body_3(chk,ctx){return chk.write("\r\n                              ").write("<div class=\"missing-user27\"></div>").write("\r\n                          ");}function body_4(chk,ctx){return chk.write("\r\n                              ").write("<img class=\"user-img27\"  src=\"").reference(ctx.getPath(true,[]),ctx,"h").write("\" height=\"27\" width=\"27\" title=\"").reference(ctx.getPath(false,["user","user_name"]),ctx,"h").write("\">").write("\r\n                            ");}return body_0;})();(function(){dust.register("navigation/breadcrumbs",body_0);function body_0(chk,ctx){return chk.write("<div class=\"row\">").write("\r\n  ").write("<div class=\"span8\">").write("\r\n    ").write("<ul class=\"breadcrumb\">").write("\r\n      ").section(ctx.get("crumbs"),ctx,{"else":body_1,"block":body_2},null).write("\r\n    ").write("</ul>").write("\r\n  ").write("</div>").write("\r\n").write("</div>").write("\r\n");}function body_1(chk,ctx){return chk.write("\r\n         ").write("<li>no breadcrumbs yet</li>").write("\r\n      ");}function body_2(chk,ctx){return chk.write("\r\n        ").write("<li ").helper("math",ctx,{"block":body_3},{"key":body_6,"method":"add","operand":"1"}).write(">").write("\r\n          ").section(ctx.get("href"),ctx,{"else":body_7,"block":body_8},null).write("\r\n          ").helper("sep",ctx,{"block":body_9},null).write("\r\n        ").write("</li>").write("\r\n      ");}function body_3(chk,ctx){return chk.helper("eq",ctx,{"block":body_4},{"value":body_5});}function body_4(chk,ctx){return chk.write("class=\"active\"");}function body_5(chk,ctx){return chk.reference(ctx.get("$len"),ctx,"h");}function body_6(chk,ctx){return chk.reference(ctx.get("$idx"),ctx,"h");}function body_7(chk,ctx){return chk.write("\r\n          ").write("<span>").reference(ctx.get("title"),ctx,"h").write("</span>").write("\r\n          ");}function body_8(chk,ctx){return chk.write("\r\n          ").write("<a href=\"").reference(ctx.get("href"),ctx,"h").write("\">").reference(ctx.get("title"),ctx,"h").write("</a>").write("\r\n          ");}function body_9(chk,ctx){return chk.write("<span class=\"divider\">&raquo;</span>");}return body_0;})();(function(){dust.register("navigation/openIDs_login_list",body_0);function body_0(chk,ctx){return chk.write("<ul class=\"dropdown-menu icons32\">").write("\r\n  ").write("<li><a href=\"/authenticate/google\"><i class=\"auth-icon32 auth-google32\"></i><span>Goodle</span></a></li>").write("\r\n  ").write("<li><a href=\"/authenticate/yahoo\"><i class=\"auth-icon32 auth-yahoo32\"></i><span>Yahoo</span></a></li>").write("\r\n  ").write("<li><a href=\"/authenticate/facebook\"><i class=\"auth-icon32 auth-facebook32\"></i>Facebook</a></li>").write("\r\n  ").write("<li><a href=\"/authenticate/twitter\"><i class=\"auth-icon32 auth-twitter32\"></i>Twitter</a></li>").write("\r\n  ").write("<!-- li><a href=\"/authenticate/windowslive\"><i class=\"auth-icon auth-windowslive\"></i>Windows Live</a></li -->").write("\r\n  ").write("<li><a href=\"/authenticate/dropbox\"><i class=\"auth-icon32 auth-dropbox32\"></i>DropBox</a></li>").write("\r\n  ").write("<li><a href=\"/authenticate/meetup\"><i class=\"auth-icon32 auth-meetup32\"></i>Meetup</a></li>").write("\r\n  ").write("<li><a href=\"/authenticate/linkedin\"><i class=\"auth-icon32 auth-linkedin32\"></i>Linkedin</a></li>").write("\r\n  ").write("<li><a href=\"/login/dummy\"><i class=\"auth-icon32 missing-user32\"></i>Dummy user</a></li>").write("\r\n").write("</ul>").write("\r\n");}return body_0;})();(function(){dust.register("navigation/user_badge",body_0);function body_0(chk,ctx){return chk.section(ctx.get("user"),ctx,{"block":body_1},null);}function body_1(chk,ctx){return chk.write("\r\n").write("<table width=\"300px\" cellpadding=\"5\" class=\"user-badge-box\">").write("\r\n  ").write("<tr align=\"left\" valign=\"top\">").write("\r\n    ").write("<td>").write("\r\n      ").section(ctx.get("gravatarURL96"),ctx,{"else":body_2,"block":body_3},null).write("\r\n    ").write("</td>").write("\r\n    ").write("<td>").write("\r\n      ").write("<div class=\"user-name\">").reference(ctx.get("screen_name"),ctx,"h").write("</div>").write("\r\n      ").write("<div class=\"user-email\">").write("\r\n        ").section(ctx.get("email"),ctx,{"else":body_4,"block":body_5},null).write("\r\n      ").write("</div>").write("\r\n    ").write("</td>").write("\r\n  ").write("</tr>").write("\r\n  ").write("<tr valign=\"top\">").write("\r\n    ").write("<td>").write("\r\n      ").write("<a class=\"btn\" href=\"/user/profile\">").write("\r\n        ").section(ctx.get("active_provider"),ctx,{"block":body_6},null).write("\r\n        ").write("<span>Edit profile</span>").write("\r\n      ").write("</a>").write("\r\n    ").write("</td>").write("\r\n    ").write("<td align=\"right\">").write("\r\n      ").write("<a class=\"btn logout \" href=\"/logout\" title=\"").reference(ctx.get("title"),ctx,"h").write("\">").write("\r\n        ").write("<span>Log Out</span>").write("\r\n        ").write("<i class=\"icon-play\"></i>").write("\r\n      ").write("</a>").write("\r\n    ").write("</td>").write("\r\n  ").write("</tr>").write("\r\n").write("</table>").write("\r\n");}function body_2(chk,ctx){return chk.write("\r\n         ").write("<div class=\"missing-user96\"></div>").write("\r\n      ");}function body_3(chk,ctx){return chk.write("\r\n         ").write("<img class=\"user-img96\" src=\"").reference(ctx.getPath(true,[]),ctx,"h").write("\">").write("\r\n         ");}function body_4(chk,ctx){return chk.write("\r\n          ").write("No email").write("\r\n        ");}function body_5(chk,ctx){return chk.write("\r\n          ").reference(ctx.getPath(true,[]),ctx,"h").write("\r\n         ");}function body_6(chk,ctx){return chk.write("\r\n        ").write("<span class=\"auth-icon auth-").reference(ctx.getPath(true,[]),ctx,"h").write("\" height=\"40px\" ></span>").write("\r\n        ");}return body_0;})();(function(){dust.register("links/link_tag_row",body_0);function body_0(chk,ctx){return chk.write("\r\n    ").write("<div class=\"tag-row\">").write("\r\n       ").write("<span class=\"link-tools-block\">").write("\r\n            ").write("<span>").helper("timeFromNow",ctx,{},{"time":body_1}).write("</span>").write("\r\n            ").helper("eq",ctx,{"block":body_2},{"key":body_3,"value":body_4}).write("\r\n        ").write("</span>").write("\r\n        ").section(ctx.get("display"),ctx,{"block":body_5},null).write("\r\n        ").write("\r\n    ").write("</div>").write("\r\n").write("\r\n");}function body_1(chk,ctx){return chk.reference(ctx.get("updated"),ctx,"h");}function body_2(chk,ctx){return chk.write("\r\n               ").write("<a class=\"btn btn-success btn-mini \"  href=\"#\" >Edit</a>").write("\r\n               ").write("<a class=\"btn btn-warning btn-mini edit-btn \" href=\"/link/").reference(ctx.get("_id"),ctx,"h").write("/refresh\" title=\"refresh\"><i class=\"icon-refresh\"></i></a>").write("\r\n               ").write("<a class=\"btn btn-danger btn-mini linkDelete\" data-context='{\"route\":\"/link/delete\", \"id\":\"").reference(ctx.get("_id"),ctx,"h").write("\"}' >Delete</a>").write("\r\n            ");}function body_3(chk,ctx){return chk.reference(ctx.get("owner_id"),ctx,"h");}function body_4(chk,ctx){return chk.reference(ctx.getPath(false,["user","_id"]),ctx,"h");}function body_5(chk,ctx){return chk.write("\r\n            ").write("<span class=\"tags\">").write("\r\n            ").section(ctx.get("tags"),ctx,{"block":body_6},null).write("\r\n            ").write("</span>").write("\r\n        ");}function body_6(chk,ctx){return chk.write("\r\n                 ").write("<a href=\"#\" title=\"Found ").reference(ctx.get("count"),ctx,"h").write(" times\">").reference(ctx.get("word"),ctx,"h").write("</a>").write("\r\n            ");}return body_0;})();(function(){dust.register("links/link_add_one",body_0);function body_0(chk,ctx){return chk.section(ctx.get("link"),ctx,{"else":body_1,"block":body_2},null);}function body_1(chk,ctx){return chk.write("\r\n").write("<div class=\"row\"><div class=\"span6\">No link data.</div></div>").write("\r\n");}function body_2(chk,ctx){return chk.write("\r\n").partial("links/link",ctx,null).write("\r\n");}return body_0;})();(function(){dust.register("links/link_content",body_0);function body_0(chk,ctx){return chk.write("<div class=\"row link-title ").notexists(ctx.getPath(false,["images","length"]),ctx,{"block":body_1},null).write("\">").write("\r\n    ").section(ctx.get("display"),ctx,{"block":body_2},null).write("\r\n").write("</div>").write("\r\n");}function body_1(chk,ctx){return chk.write("noImg");}function body_2(chk,ctx){return chk.write("\r\n        ").write("<div class=\"span8 link-content\">").write("\r\n            ").exists(ctx.get("thumbnail"),ctx,{"block":body_3},null).write("\r\n            ").write("<a class=\"link-title wrap ").exists(ctx.get("canEdit"),ctx,{"block":body_5},null).write("\" href=\"").reference(ctx.get("url"),ctx,"h").write("?linked-from=www.links.to/w/c/").reference(ctx.get("collection_id"),ctx,"h").write("\" target=\"_blank\">").reference(ctx.get("title"),ctx,"h",["s"]).write("</a>").write("\r\n\r\n            ").exists(ctx.get("autor"),ctx,{"block":body_6},null).write("\r\n            ").exists(ctx.get("description"),ctx,{"block":body_7},null).write("\r\n            ").notexists(ctx.get("description"),ctx,{"block":body_9},null).write("\r\n\r\n            ").partial("links/link_tag_row",ctx,null).write("\r\n        ").write("</div>").write("\r\n    ");}function body_3(chk,ctx){return chk.write("\r\n                ").write("<ul class=\"iddCont imgDropdown eipURL\" data-url=\"/link/").reference(ctx.get("_id"),ctx,"h").write("/eip\" >").write("\r\n                    ").write("<li>").write("\r\n                        ").write("<a href=\"#\" class=\"thumbnail\" data-imagePos=\"").reference(ctx.get("imagePos"),ctx,"h").write("\">").write("\r\n                            ").write("<img src=\"").reference(ctx.get("thumbnail"),ctx,"h").write("\">").write("\r\n                        ").write("</a>").write("\r\n                    ").write("</li>").write("\r\n                    ").section(ctx.get("images"),ctx,{"block":body_4},null).write("\r\n                ").write("</ul>").write("\r\n            ");}function body_4(chk,ctx){return chk.write("\r\n                    ").write("<li>").write("\r\n                        ").write("<a href=\"#\" class=\"thumbnail inactive\" data-imagePos=\"").reference(ctx.get("$idx"),ctx,"h").write("\"><img src=\"").reference(ctx.get("src"),ctx,"h").write("\"></a>").write("\r\n                    ").write("</li>").write("\r\n                    ");}function body_5(chk,ctx){return chk.write("eip ta");}function body_6(chk,ctx){return chk.write("<span class=\"author\">Author:<span class=\"author_name\">").reference(ctx.get("author"),ctx,"h").write("</span></span>");}function body_7(chk,ctx){return chk.write("<span title=\"description\" class=\"description wrap ").exists(ctx.get("canEdit"),ctx,{"block":body_8},null).write("\">").reference(ctx.get("description"),ctx,"h",["s"]).write("</span>");}function body_8(chk,ctx){return chk.write("eip ta");}function body_9(chk,ctx){return chk.write("<span title=\"Summary\" class=\"description wrap ta summary\">summary:").reference(ctx.get("summary"),ctx,"h").write("</span>");}return body_0;})();(function(){dust.register("links/link_adding",body_0);function body_0(chk,ctx){return chk.write("<div class=\"blocked-link token_").reference(ctx.get("token"),ctx,"h").write("\" id=\"token_").reference(ctx.get("token"),ctx,"h").write("\">").write("\r\n  ").write("<div class=\"row link-title\">").write("\r\n     ").write("<div class=\"span8 link-content\">").write("\r\n           ").write("<i class=\"icon-refresh icon-spin \"></i>").write("\r\n           ").write("<span class=\"link-fetching\">").reference(ctx.get("url"),ctx,"h").write("</span>").write("\r\n      ").write("</div>").write("\r\n  ").write("</div>").write("\r\n").write("</div>").write("\r\n");}return body_0;})();(function(){dust.register("links/link",body_0);function body_0(chk,ctx){return chk.write("<div class=\"blocked-link\" id=\"link_").reference(ctx.get("_id"),ctx,"h").write("\">").write("\r\n    ").exists(ctx.get("display"),ctx,{"block":body_1},null).write("\r\n    ").notexists(ctx.get("display"),ctx,{"block":body_2},null).write("\r\n").write("</div>").write("\r\n");}function body_1(chk,ctx){return chk.write("\r\n        ").partial("links/link_content",ctx,null).write("\r\n\r\n    ");}function body_2(chk,ctx){return chk.write("\r\n       ").write("<div>No link data.</div>").write("\r\n    ");}return body_0;})();(function(){dust.register("controls/add_button",body_0);function body_0(chk,ctx){return chk.write("    ").section(ctx.get("user"),ctx,{"block":body_1},{"Collection":body_10}).write("\r\n");}function body_1(chk,ctx){return chk.write("\r\n        ").section(ctx.get("pageParam"),ctx,{"block":body_2},null).write("\r\n    ");}function body_2(chk,ctx){return chk.write("\r\n            ").helper("eq",ctx,{"block":body_3},{"value":"collection:list","key":body_4}).write("\r\n            ").helper("eq",ctx,{"block":body_5},{"value":"collection:get","key":body_9}).write("\r\n        ");}function body_3(chk,ctx){return chk.write("\r\n                ").write("<div class=\"input-append\">").write("\r\n                    ").write("<input type=\"text\" class=\"addInput input-xxlarge\" name=\"").reference(ctx.get("name"),ctx,"h").write("\" id=\"").reference(ctx.get("name"),ctx,"h").write("\" placeholder=\"").reference(ctx.get("placeholder"),ctx,"h").write("\" title=\"").reference(ctx.get("placeholder"),ctx,"h").write("\" />").write("\r\n                    ").write("<button class=\"btn btn-primary btnAdd\" type=\"button\"  data-context=\"").reference(ctx.get("button_action"),ctx,"h",["js","s"]).write("\">Add</button>").write("\r\n                ").write("</div>").write("\r\n            ");}function body_4(chk,ctx){return chk.reference(ctx.getPath(true,["route"]),ctx,"h");}function body_5(chk,ctx){return chk.write("\r\n                    ").helper("eq",ctx,{"block":body_6},{"value":body_7,"key":body_8}).write("\r\n           ");}function body_6(chk,ctx){return chk.write("\r\n                        ").write("<div class=\"input-append\">").write("\r\n                            ").write("<input type=\"text\" class=\"addInput input-xxlarge\" name=\"").reference(ctx.get("name"),ctx,"h").write("\" id=\"").reference(ctx.get("name"),ctx,"h").write("\" placeholder=\"").reference(ctx.get("placeholder"),ctx,"h").write("\" title=\"").reference(ctx.get("placeholder"),ctx,"h").write("\" />").write("\r\n                            ").write("<button class=\"btn btn-primary btnAdd\" type=\"button\"  data-context=\"").reference(ctx.get("button_action"),ctx,"h",["js","s"]).write("\">Add</button>").write("\r\n                        ").write("</div>").write("\r\n                    ");}function body_7(chk,ctx){return chk.reference(ctx.getPath(false,["user","_id"]),ctx,"h");}function body_8(chk,ctx){return chk.reference(ctx.getPath(false,["collection","owner"]),ctx,"h");}function body_9(chk,ctx){return chk.reference(ctx.getPath(true,["route"]),ctx,"h");}function body_10(chk,ctx){return chk.reference(ctx.get("collection"),ctx,"h");}return body_0;})();(function(){dust.register("controls/add_button_textarea",body_0);function body_0(chk,ctx){return chk.write("<div class=\"input-append\">").write("\r\n    ").write("<textarea class=\"input-xxlarge autoGrow\" name=\"").reference(ctx.get("name"),ctx,"h").write("\" placeholder=\"").reference(ctx.get("placeholder"),ctx,"h").write("\" title=\"").reference(ctx.get("placeholder"),ctx,"h").write("\" rows=\"1\"></textarea>").write("\r\n    ").write("<button class=\"btn btn-primary btn-mall\" type=\"button\" data-context='").reference(ctx.get("button_action"),ctx,"h",["js","s"]).write("' ><i class=\"icon-plus icon-white\"></i> ").reference(ctx.get("buttonText"),ctx,"h").write("</button>").write("\r\n").write("</div>").write("\r\n");}return body_0;})();(function(){dust.register("controls/add_button_file",body_0);function body_0(chk,ctx){return chk.write("<div class=\"input-append\">").write("\r\n   ").write("<form action=\"").reference(ctx.getPath(false,["addButton","action"]),ctx,"h").write("\" id=\"").reference(ctx.getPath(false,["addButton","form_id"]),ctx,"h").write("\" method=\"post\"  enctype=\"multipart/form-data\">").write("\r\n    ").write("<span class=\"fakeFileCont\">").write("\r\n      ").write("<input type=\"file\" name=\"uploaded_file\" class=\"fileHidden farAway\"  name=\"").reference(ctx.get("name"),ctx,"h").write("\" id=\"").reference(ctx.get("name"),ctx,"h").write("\" />").write("\r\n      ").write("<input type=\"text\" class=\"input-xxlarge fakeName\" readonly=\"readonly\" value='No File Selected'>").write("\r\n      ").write("<button type=\"button\" class=\"fakeButton btn btn-success noBrdRadius\">Select a file</button>").write("\r\n    ").write("</span>").write("\r\n    ").write("<button class=\"btn btn-primary\" type=\"submit\">").reference(ctx.getPath(false,["addButton","buttonText"]),ctx,"h").write("</button>").write("\r\n   ").write("</form>").write("\r\n").write("</div>").write("\r\n");}return body_0;})();(function(){dust.register("controls/add_button_input",body_0);function body_0(chk,ctx){return chk.write("<div class=\"input-append\">").write("\r\n    ").write("<input type=\"text\" class=\"addInput input-xxlarge\" name=\"").reference(ctx.get("name"),ctx,"h").write("\" id=\"").reference(ctx.get("name"),ctx,"h").write("\" placeholder=\"").reference(ctx.get("placeholder"),ctx,"h").write("\" title=\"").reference(ctx.get("placeholder"),ctx,"h").write("\" />").write("\r\n    ").write("<button class=\"btn btn-primary btnAdd\" type=\"button\"  data-context='").reference(ctx.get("button_action"),ctx,"h",["js","s"]).write("'>Add</button>").write("\r\n").write("</div>").write("\r\n");}return body_0;})();(function(){dust.register("collections/page_collection",body_0);var blocks={'bodyClass':body_1,'pageTitle':body_2,'pageBottom':body_3,'container':body_4};function body_0(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.partial("main",ctx,null).write("\r\n\r\n").write("\r\n").write("\r\n\r\n").write("\r\n\r\n").write("\r\n");}function body_1(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("collection");}function body_2(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("Collection: ").reference(ctx.get("title"),ctx,"h");}function body_3(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\r\n    ").write("<div class=\"eipBase\" data-url=\"/coll/").reference(ctx.getPath(false,["collection","_id"]),ctx,"h").write("/eip\"><br/></div>").write("\r\n    ").write("<script>").write("\r\n      ").write("head.js(").write("\r\n        ").write("\"/js/jquery.editinplace.js\",").write("\r\n        ").write("\"/js/jquery.autosize.js\",").write("\r\n        ").write("\"/js/edit-in-place.js\",").write("\r\n        ").write("\"/js/tw-textarea-autoGrow.js\",").write("\r\n        ").write("\"/js/autoGrowInput.js\"").write("\r\n        ").write("//, \"/js/collection-link-edit.js\"").write("\r\n      ").write(");").write("\r\n    ").write("</script>").write("\r\n");}function body_4(chk,ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("\r\n   ").partial("collections/collection_container",ctx,null).write("\r\n");}return body_0;})();